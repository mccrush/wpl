var ll=Object.defineProperty;var cl=(t,e,s)=>e in t?ll(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var fe=(t,e,s)=>cl(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const ul="modulepreload",hl=function(t){return"/"+t},Xn={},ls=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=hl(l),l in Xn)return;Xn[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ul,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},dl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ls(async()=>{const{default:r}=await Promise.resolve().then(()=>ds);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class En extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class fl extends En{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pl extends En{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gl extends En{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tn||(tn={}));var _l=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ml{constructor(e,{headers:s={},customFetch:r,region:n=tn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=dl(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return _l(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(y=>{throw new fl(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new pl(c);if(!c.ok)throw new gl(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function vl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ce={},Vt={},qt={},Wt={},Kt={},Gt={},bl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cs=bl();const wl=cs.fetch,uo=cs.fetch.bind(cs),ho=cs.Headers,Sl=cs.Request,kl=cs.Response,ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:ho,Request:Sl,Response:kl,default:uo,fetch:wl},Symbol.toStringTag,{value:"Module"})),Tl=yl(ds);var Xs={},Zn;function fo(){if(Zn)return Xs;Zn=1,Object.defineProperty(Xs,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Xs.default=t,Xs}var ei;function po(){if(ei)return Gt;ei=1;var t=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gt,"__esModule",{value:!0});const e=t(Tl),s=t(fo());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,y=null,E=null,C=u.status,I=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=D:y=JSON.parse(D))}const L=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");L&&O&&O.length>1&&(E=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,E=null,C=406,I="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const L=await u.text();try{g=JSON.parse(L),Array.isArray(g)&&u.status===404&&(y=[],g=null,C=200,I="OK")}catch{u.status===404&&L===""?(C=204,I="No Content"):g={message:L}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,C=200,I="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:y,count:E,status:C,statusText:I}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Gt.default=r,Gt}var ti;function go(){if(ti)return Kt;ti=1;var t=Kt&&Kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kt,"__esModule",{value:!0});const e=t(po());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Kt.default=s,Kt}var si;function xn(){if(si)return Wt;si=1;var t=Wt&&Wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wt,"__esModule",{value:!0});const e=t(go());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Wt.default=s,Wt}var ri;function _o(){if(ri)return qt;ri=1;var t=qt&&qt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qt,"__esModule",{value:!0});const e=t(xn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return qt.default=s,qt}var vs={},ys={},ni;function El(){return ni||(ni=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.version=void 0,ys.version="0.0.0-automated"),ys}var ii;function xl(){if(ii)return vs;ii=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.DEFAULT_HEADERS=void 0;const t=El();return vs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},vs}var oi;function Ol(){if(oi)return Vt;oi=1;var t=Vt&&Vt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vt,"__esModule",{value:!0});const e=t(_o()),s=t(xn()),r=xl();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{p.searchParams.append(E,C)})):(h="POST",g=a);const y=Object.assign({},this.headers);return c&&(y.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:y,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Vt.default=n,Vt}var ai;function Cl(){if(ai)return ce;ai=1;var t=ce&&ce.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ce,"__esModule",{value:!0}),ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;const e=t(Ol());ce.PostgrestClient=e.default;const s=t(_o());ce.PostgrestQueryBuilder=s.default;const r=t(xn());ce.PostgrestFilterBuilder=r.default;const n=t(go());ce.PostgrestTransformBuilder=n.default;const i=t(po());ce.PostgrestBuilder=i.default;const o=t(fo());return ce.PostgrestError=o.default,ce.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ce}var Al=Cl();const Pl=vl(Al),{PostgrestClient:jl,PostgrestQueryBuilder:$p,PostgrestFilterBuilder:Ip,PostgrestTransformBuilder:Rp,PostgrestBuilder:Lp,PostgrestError:Dp}=Pl,$l="2.11.2",Il={"X-Client-Info":`realtime-js/${$l}`},Rl="1.0.0",mo=1e4,Ll=1e3;var ts;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ts||(ts={}));var Pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pe||(Pe={}));var Ue;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ue||(Ue={}));var sn;(function(t){t.websocket="websocket"})(sn||(sn={}));var It;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(It||(It={}));class Dl{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class vo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const li=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ml(o,t,e,n),i),{})},Ml=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?yo(i,o):rn(o)},yo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Bl(e,s)}switch(t){case Z.bool:return Ul(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Nl(e);case Z.json:case Z.jsonb:return Fl(e);case Z.timestamp:return Hl(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return rn(e);default:return rn(e)}},rn=t=>t,Ul=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Nl=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Fl=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Bl=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>yo(e,a))}return t},Hl=t=>typeof t=="string"?t.replace(" ","T"):t,bo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ur{constructor(e,s,r={},n=mo){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ci;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ci||(ci={}));class xs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(C=>C.presence_ref),g=h.map(C=>C.presence_ref),y=c.filter(C=>g.indexOf(C.presence_ref)<0),E=h.filter(C=>p.indexOf(C.presence_ref)<0);y.length>0&&(a[u]=y),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ui;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ui||(ui={}));var hi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hi||(hi={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class On{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ur(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new vo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new xs(this),this.broadcastEndpointURL=bo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(rt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(rt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(rt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,y=[];for(let E=0;E<g;E++){const C=p[E],{filter:{event:I,schema:N,table:L,filter:O}}=C,D=c&&c[E];if(D&&D.event===I&&D.schema===N&&D.table===L&&D.filter===O)y.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(rt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Ur(this,Ue.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ur(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ue;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var y,E,C;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(E=g.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,E,C,I,N,L;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const O=g.id,D=(y=g.filter)===null||y===void 0?void 0:y.event;return O&&((E=s.ids)===null||E===void 0?void 0:E.includes(O))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(N=(I=g==null?void 0:g.filter)===null||I===void 0?void 0:I.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((L=s==null?void 0:s.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:E,table:C,commit_timestamp:I,type:N,errors:L}=y;p=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:I,eventType:N,new:{},old:{},errors:L}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&On.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ue.close,{},e)}_onError(e){this._on(Ue.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=li(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=li(e.columns,e.old_record)),s}}const Vl=()=>{},ql=typeof WebSocket<"u",Wl=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kl{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Il,this.params={},this.timeout=mo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Vl,this.conn=null,this.sendBuffer=[],this.serializer=new Dl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ls(async()=>{const{default:l}=await Promise.resolve().then(()=>ds);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${sn.websocket}`,this.httpEndpoint=bo(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ql){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Gl(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ls(async()=>{const{default:e}=await import("./browser-lo8tb8az.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rl}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return It.Connecting;case ts.open:return It.Open;case ts.closing:return It.Closing;default:return It.Closed}}isConnected(){return this.connectionState()===It.Open}channel(e,s={config:{}}){const r=new On(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ue.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ll,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ue.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Wl],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Gl{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ts.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Cn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zl extends Cn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nn extends Cn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Jl=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const wo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ls(async()=>{const{default:r}=await Promise.resolve().then(()=>ds);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Yl=()=>Jl(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ls(()=>Promise.resolve().then(()=>ds),void 0)).Response:Response}),on=t=>{if(Array.isArray(t))return t.map(s=>on(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=on(r)}),e};var Ft=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Nr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ql=(t,e,s)=>Ft(void 0,void 0,void 0,function*(){const r=yield Yl();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new zl(Nr(n),t.status||500))}).catch(n=>{e(new nn(Nr(n),n))}):e(new nn(Nr(t),t))}),Xl=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ks(t,e,s,r,n,i){return Ft(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Xl(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ql(l,a,r))})})}function dr(t,e,s,r){return Ft(this,void 0,void 0,function*(){return Ks(t,"GET",e,s,r)})}function ft(t,e,s,r,n){return Ft(this,void 0,void 0,function*(){return Ks(t,"POST",e,r,n,s)})}function Zl(t,e,s,r,n){return Ft(this,void 0,void 0,function*(){return Ks(t,"PUT",e,r,n,s)})}function ec(t,e,s,r){return Ft(this,void 0,void 0,function*(){return Ks(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function So(t,e,s,r,n){return Ft(this,void 0,void 0,function*(){return Ks(t,"DELETE",e,r,n,s)})}var Ee=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const tc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},di={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sc{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=wo(n)}uploadOrUpdate(e,s,r,n){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},di),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:di.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Cn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ft(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ee(this,void 0,void 0,function*(){try{const n=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}download(e,s){return Ee(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield dr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield dr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:on(r),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}exists(e){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield ec(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ue(r)&&r instanceof nn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ee(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},tc),s),{prefix:e||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const rc="2.7.1",nc={"X-Client-Info":`storage-js/${rc}`};var zt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ic{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},nc),s),this.fetch=wo(r)}listBuckets(){return zt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return zt(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return zt(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}}class oc extends ic{constructor(e,s={},r){super(e,s,r)}from(e){return new sc(this.url,this.headers,e,this.fetch)}}const ac="2.48.1";let ks="";typeof Deno<"u"?ks="deno":typeof document<"u"?ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ks="react-native":ks="node";const lc={"X-Client-Info":`supabase-js-${ks}/${ac}`},cc={headers:lc},uc={schema:"public"},hc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dc={};var fc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const pc=t=>{let e;return t?e=t:typeof fetch>"u"?e=uo:e=fetch,(...s)=>e(...s)},gc=()=>typeof Headers>"u"?ho:Headers,_c=(t,e,s)=>{const r=pc(s),n=gc();return(i,o)=>fc(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var mc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function vc(t){return t.replace(/\/$/,"")}function yc(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>mc(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const ko="2.67.3",bc="http://localhost:9999",wc="supabase.auth.token",Sc={"X-Client-Info":`gotrue-js/${ko}`},fi=10,an="X-Supabase-Api-Version",To={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function kc(t){return Math.round(Date.now()/1e3)+t}function Tc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",xt={tested:!1,writable:!1},Os=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xt.tested)return xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xt.tested=!0,xt.writable=!0}catch{xt.tested=!0,xt.writable=!1}return xt.writable};function Ec(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Eo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ls(async()=>{const{default:r}=await Promise.resolve().then(()=>ds);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},xc=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xo=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Zs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},er=async(t,e)=>{await t.removeItem(e)};function Oc(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class kr{constructor(){this.promise=new kr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}kr.promiseConstructor=Promise;function pi(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Oc(r))}async function Cc(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ac(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Pc(t){return("0"+t.toString(16)).substr(-2)}function jc(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Pc).join("")}async function $c(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Ic(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rc(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await $c(t);return Ic(s)}async function Jt(t,e,s=!1){const r=jc();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await xo(t,`${e}-code-verifier`,n);const i=await Rc(r);return[i,r===i?"plain":"s256"]}const Lc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dc(t){const e=t.headers.get(an);if(!e||!e.match(Lc))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class An extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mc extends An{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Uc(t){return U(t)&&t.name==="AuthApiError"}class Oo extends An{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Bt extends An{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class ht extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nc(t){return U(t)&&t.name==="AuthSessionMissingError"}class Fr extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tr extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sr extends Bt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fc(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class gi extends Bt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ln extends Bt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Br(t){return U(t)&&t.name==="AuthRetryableFetchError"}class _i extends Bt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Bc=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hc=[502,503,504];async function mi(t){var e;if(!xc(t))throw new ln(jt(t),0);if(Hc.includes(t.status))throw new ln(jt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Oo(jt(i),i)}let r;const n=Dc(t);if(n&&n.getTime()>=To["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new _i(jt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _i(jt(s),t.status,s.weak_password.reasons);throw new Mc(jt(s),t.status||500,r)}const Vc=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function B(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[an]||(i[an]=To["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await qc(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qc(t,e,s,r,n,i){const o=Vc(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new ln(jt(l),0)}if(a.ok||await mi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await mi(l)}}function dt(t){var e;let s=null;zc(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=kc(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function vi(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wc(t){return{data:t,error:null}}function Kc(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Bc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Gc(t){return t}function zc(t){return t.access_token&&t.refresh_token&&t.expires_in}var Jc=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Yc{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Eo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:mt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Jc(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Kc,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(U(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mt})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Gc});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const E=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);u[`${C}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mt})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:mt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:mt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(U(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}}const Qc={getItem:t=>Os()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Os()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Os()&&globalThis.localStorage.removeItem(t)}};function yi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Xc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yt={debug:!!(globalThis&&Os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Co extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zc extends Co{}async function eu(t,e,s){Yt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Yt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Yt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Yt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Yt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Xc();const tu={url:bc,storageKey:wc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},bs=30*1e3,bi=3;async function wi(t,e,s){return await s()}class Ds{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},tu),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Yc({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Eo(n.fetch),this.lock=n.lock||wi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Je()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=eu:this.lock=wi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Os()?this.storage=Qc:(this.memoryStorage={},this.storage=yi(this.memoryStorage)):(this.memoryStorage={},this.storage=yi(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ko}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Ec(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Je()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fc(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return U(s)?{error:s}:{error:new Oo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Jt(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:dt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dt})}else throw new tr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vi})}else throw new tr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Zs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dt});if(await er(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:dt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Jt(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new tr("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Jt(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Wc})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new ht;const{error:n}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(U(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await B(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new tr("You must provide either an email or phone number and a type")}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:mt})})}catch(s){if(U(s))return Nc(s)&&(await this._removeSession(),await er(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new ht;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Jt(this.storage,this.storageKey));const{data:u,error:c}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:mt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return pi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ht;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=pi(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(U(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ht;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Je())throw new sr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new gi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gi("No code detected.");const{data:N,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new sr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=p-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:E,error:C}=await this._getUser(i);if(C)throw C;const I={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Uc(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await er(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Tc(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Jt(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Je()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(U(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ac(async n=>(n>0&&await Cc(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Br(i)&&Date.now()+o-r<bs})}catch(r){if(this._debug(s,"error",r),U(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Je()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Zs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+fi;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${fi}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Br(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new kr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),U(i)){const o={session:null,error:i};return Br(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await er(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${bs}ms, refresh threshold is ${bi} ticks`),n<=bi&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Co)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(U(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(U(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ds.nextInstanceID=0;const su=Ds;class ru extends su{constructor(e){super(e)}}var nu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class iu{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=vc(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:uc,realtime:dc,auth:Object.assign(Object.assign({},hc),{storageKey:l}),global:cc},c=yc(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=_c(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new jl(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new ml(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return nu(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ru({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Kl(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ou=(t,e,s)=>new iu(t,e,s),au="https://xtkhigixoezqtrdcssuk.supabase.co",lu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0a2hpZ2l4b2V6cXRyZGNzc3VrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwNjU0NDcsImV4cCI6MjA1NDY0MTQ0N30.5Gt6i4eghCQQBJkWnLDx7YP1EOVtbySFI8VNunRTGfY",Lt=ou(au,lu);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const J={},ss=[],Xe=()=>{},cu=()=>!1,Tr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jn=t=>t.startsWith("onUpdate:"),ge=Object.assign,$n=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},uu=Object.prototype.hasOwnProperty,W=(t,e)=>uu.call(t,e),P=Array.isArray,rs=t=>Gs(t)==="[object Map]",fs=t=>Gs(t)==="[object Set]",Si=t=>Gs(t)==="[object Date]",M=t=>typeof t=="function",ie=t=>typeof t=="string",Be=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",Ao=t=>(Y(t)||M(t))&&M(t.then)&&M(t.catch),Po=Object.prototype.toString,Gs=t=>Po.call(t),hu=t=>Gs(t).slice(8,-1),jo=t=>Gs(t)==="[object Object]",In=t=>ie(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Cs=Pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Er=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},du=/-(\w)/g,Me=Er(t=>t.replace(du,(e,s)=>s?s.toUpperCase():"")),fu=/\B([A-Z])/g,wt=Er(t=>t.replace(fu,"-$1").toLowerCase()),xr=Er(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hr=Er(t=>t?`on${xr(t)}`:""),Dt=(t,e)=>!Object.is(t,e),lr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},$o=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},fr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},pu=t=>{const e=ie(t)?Number(t):NaN;return isNaN(e)?t:e};let ki;const Or=()=>ki||(ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rn(t){if(P(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ie(r)?vu(r):Rn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ie(t)||Y(t))return t}const gu=/;(?![^(]*\))/g,_u=/:([^]+)/,mu=/\/\*[^]*?\*\//g;function vu(t){const e={};return t.replace(mu,"").split(gu).forEach(s=>{if(s){const r=s.split(_u);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function vt(t){let e="";if(ie(t))e=t;else if(P(t))for(let s=0;s<t.length;s++){const r=vt(t[s]);r&&(e+=r+" ")}else if(Y(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const yu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bu=Pn(yu);function Io(t){return!!t||t===""}function wu(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Nt(t[r],e[r]);return s}function Nt(t,e){if(t===e)return!0;let s=Si(t),r=Si(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=Be(t),r=Be(e),s||r)return t===e;if(s=P(t),r=P(e),s||r)return s&&r?wu(t,e):!1;if(s=Y(t),r=Y(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Nt(t[o],e[o]))return!1}}return String(t)===String(e)}function Ln(t,e){return t.findIndex(s=>Nt(s,e))}const Ro=t=>!!(t&&t.__v_isRef===!0),Ie=t=>ie(t)?t:t==null?"":P(t)||Y(t)&&(t.toString===Po||!M(t.toString))?Ro(t)?Ie(t.value):JSON.stringify(t,Lo,2):String(t),Lo=(t,e)=>Ro(e)?Lo(t,e.value):rs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Vr(r,i)+" =>"]=n,s),{})}:fs(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Vr(s))}:Be(e)?Vr(e):Y(e)&&!P(e)&&!jo(e)?String(e):e,Vr=(t,e="")=>{var s;return Be(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $e;class Do{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$e,!e&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=$e;try{return $e=this,e()}finally{$e=s}}}on(){$e=this}off(){$e=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Su(t){return new Do(t)}function ku(){return $e}let ee;const qr=new WeakSet;class Mo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$e&&$e.active&&$e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qr.has(this)&&(qr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||No(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ti(this),Fo(this);const e=ee,s=Ne;ee=this,Ne=!0;try{return this.fn()}finally{Bo(this),ee=e,Ne=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Un(e);this.deps=this.depsTail=void 0,Ti(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){cn(this)&&this.run()}get dirty(){return cn(this)}}let Uo=0,As,Ps;function No(t,e=!1){if(t.flags|=8,e){t.next=Ps,Ps=t;return}t.next=As,As=t}function Dn(){Uo++}function Mn(){if(--Uo>0)return;if(Ps){let e=Ps;for(Ps=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;As;){let e=As;for(As=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Fo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Un(r),Tu(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function cn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ho(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ho(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ms))return;t.globalVersion=Ms;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!cn(t)){t.flags&=-3;return}const s=ee,r=Ne;ee=t,Ne=!0;try{Fo(t);const n=t.fn(t._value);(e.version===0||Dt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ee=s,Ne=r,Bo(t),t.flags&=-3}}function Un(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Un(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Tu(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ne=!0;const Vo=[];function St(){Vo.push(Ne),Ne=!1}function kt(){const t=Vo.pop();Ne=t===void 0?!0:t}function Ti(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ee;ee=void 0;try{e()}finally{ee=s}}}let Ms=0;class Eu{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ee||!Ne||ee===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ee)s=this.activeLink=new Eu(ee,this),ee.deps?(s.prevDep=ee.depsTail,ee.depsTail.nextDep=s,ee.depsTail=s):ee.deps=ee.depsTail=s,Wo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ee.depsTail,s.nextDep=void 0,ee.depsTail.nextDep=s,ee.depsTail=s,ee.deps===s&&(ee.deps=r)}return s}trigger(e){this.version++,Ms++,this.notify(e)}notify(e){Dn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Mn()}}}function Wo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Wo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const un=new WeakMap,Mt=Symbol(""),hn=Symbol(""),Us=Symbol("");function me(t,e,s){if(Ne&&ee){let r=un.get(t);r||un.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new qo),n.map=r,n.key=s),n.track()}}function it(t,e,s,r,n,i){const o=un.get(t);if(!o){Ms++;return}const a=l=>{l&&l.trigger()};if(Dn(),e==="clear")o.forEach(a);else{const l=P(t),u=l&&In(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===Us||!Be(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Us)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Mt)),rs(t)&&a(o.get(hn)));break;case"delete":l||(a(o.get(Mt)),rs(t)&&a(o.get(hn)));break;case"set":rs(t)&&a(o.get(Mt));break}}Mn()}function Qt(t){const e=G(t);return e===t?e:(me(e,"iterate",Us),Fe(t)?e:e.map(xe))}function Cr(t){return me(t=G(t),"iterate",Us),t}const xu={__proto__:null,[Symbol.iterator](){return Wr(this,Symbol.iterator,xe)},concat(...t){return Qt(this).concat(...t.map(e=>P(e)?Qt(e):e))},entries(){return Wr(this,"entries",t=>(t[1]=xe(t[1]),t))},every(t,e){return tt(this,"every",t,e,void 0,arguments)},filter(t,e){return tt(this,"filter",t,e,s=>s.map(xe),arguments)},find(t,e){return tt(this,"find",t,e,xe,arguments)},findIndex(t,e){return tt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return tt(this,"findLast",t,e,xe,arguments)},findLastIndex(t,e){return tt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return tt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Kr(this,"includes",t)},indexOf(...t){return Kr(this,"indexOf",t)},join(t){return Qt(this).join(t)},lastIndexOf(...t){return Kr(this,"lastIndexOf",t)},map(t,e){return tt(this,"map",t,e,void 0,arguments)},pop(){return ws(this,"pop")},push(...t){return ws(this,"push",t)},reduce(t,...e){return Ei(this,"reduce",t,e)},reduceRight(t,...e){return Ei(this,"reduceRight",t,e)},shift(){return ws(this,"shift")},some(t,e){return tt(this,"some",t,e,void 0,arguments)},splice(...t){return ws(this,"splice",t)},toReversed(){return Qt(this).toReversed()},toSorted(t){return Qt(this).toSorted(t)},toSpliced(...t){return Qt(this).toSpliced(...t)},unshift(...t){return ws(this,"unshift",t)},values(){return Wr(this,"values",xe)}};function Wr(t,e,s){const r=Cr(t),n=r[e]();return r!==t&&!Fe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ou=Array.prototype;function tt(t,e,s,r,n,i){const o=Cr(t),a=o!==t&&!Fe(t),l=o[e];if(l!==Ou[e]){const h=l.apply(t,i);return a?xe(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,xe(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Ei(t,e,s,r){const n=Cr(t);let i=s;return n!==t&&(Fe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,xe(a),l,t)}),n[e](i,...r)}function Kr(t,e,s){const r=G(t);me(r,"iterate",Us);const n=r[e](...s);return(n===-1||n===!1)&&Bn(s[0])?(s[0]=G(s[0]),r[e](...s)):n}function ws(t,e,s=[]){St(),Dn();const r=G(t)[e].apply(t,s);return Mn(),kt(),r}const Cu=Pn("__proto__,__v_isRef,__isVue"),Ko=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Be));function Au(t){Be(t)||(t=String(t));const e=G(this);return me(e,"has",t),e.hasOwnProperty(t)}class Go{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Nu:Qo:i?Yo:Jo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=P(e);if(!n){let l;if(o&&(l=xu[s]))return l;if(s==="hasOwnProperty")return Au}const a=Reflect.get(e,s,Se(e)?e:r);return(Be(s)?Ko.has(s):Cu(s))||(n||me(e,"get",s),i)?a:Se(a)?o&&In(s)?a:a.value:Y(a)?n?Xo(a):Ar(a):a}}class zo extends Go{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=us(i);if(!Fe(r)&&!us(r)&&(i=G(i),r=G(r)),!P(e)&&Se(i)&&!Se(r))return l?!1:(i.value=r,!0)}const o=P(e)&&In(s)?Number(s)<e.length:W(e,s),a=Reflect.set(e,s,r,Se(e)?e:n);return e===G(n)&&(o?Dt(r,i)&&it(e,"set",s,r):it(e,"add",s,r)),a}deleteProperty(e,s){const r=W(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&it(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Be(s)||!Ko.has(s))&&me(e,"has",s),r}ownKeys(e){return me(e,"iterate",P(e)?"length":Mt),Reflect.ownKeys(e)}}class Pu extends Go{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ju=new zo,$u=new Pu,Iu=new zo(!0);const dn=t=>t,rr=t=>Reflect.getPrototypeOf(t);function Ru(t,e,s){return function(...r){const n=this.__v_raw,i=G(n),o=rs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?dn:e?fn:xe;return!e&&me(i,"iterate",l?hn:Mt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function nr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Lu(t,e){const s={get(n){const i=this.__v_raw,o=G(i),a=G(n);t||(Dt(n,a)&&me(o,"get",n),me(o,"get",a));const{has:l}=rr(o),u=e?dn:t?fn:xe;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&me(G(n),"iterate",Mt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=G(i),a=G(n);return t||(Dt(n,a)&&me(o,"has",n),me(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=G(a),u=e?dn:t?fn:xe;return!t&&me(l,"iterate",Mt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return ge(s,t?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(n){!e&&!Fe(n)&&!us(n)&&(n=G(n));const i=G(this);return rr(i).has.call(i,n)||(i.add(n),it(i,"add",n,n)),this},set(n,i){!e&&!Fe(i)&&!us(i)&&(i=G(i));const o=G(this),{has:a,get:l}=rr(o);let u=a.call(o,n);u||(n=G(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Dt(i,c)&&it(o,"set",n,i):it(o,"add",n,i),this},delete(n){const i=G(this),{has:o,get:a}=rr(i);let l=o.call(i,n);l||(n=G(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&it(i,"delete",n,void 0),u},clear(){const n=G(this),i=n.size!==0,o=n.clear();return i&&it(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ru(n,t,e)}),s}function Nn(t,e){const s=Lu(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(W(s,n)&&n in r?s:r,n,i)}const Du={get:Nn(!1,!1)},Mu={get:Nn(!1,!0)},Uu={get:Nn(!0,!1)};const Jo=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,Nu=new WeakMap;function Fu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bu(t){return t.__v_skip||!Object.isExtensible(t)?0:Fu(hu(t))}function Ar(t){return us(t)?t:Fn(t,!1,ju,Du,Jo)}function Hu(t){return Fn(t,!1,Iu,Mu,Yo)}function Xo(t){return Fn(t,!0,$u,Uu,Qo)}function Fn(t,e,s,r,n){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Bu(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function ns(t){return us(t)?ns(t.__v_raw):!!(t&&t.__v_isReactive)}function us(t){return!!(t&&t.__v_isReadonly)}function Fe(t){return!!(t&&t.__v_isShallow)}function Bn(t){return t?!!t.__v_raw:!1}function G(t){const e=t&&t.__v_raw;return e?G(e):t}function Vu(t){return!W(t,"__v_skip")&&Object.isExtensible(t)&&$o(t,"__v_skip",!0),t}const xe=t=>Y(t)?Ar(t):t,fn=t=>Y(t)?Xo(t):t;function Se(t){return t?t.__v_isRef===!0:!1}function qu(t){return Se(t)?t.value:t}const Wu={get:(t,e,s)=>e==="__v_raw"?t:qu(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Se(n)&&!Se(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Zo(t){return ns(t)?t:new Proxy(t,Wu)}class Ku{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new qo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ee!==this)return No(this,!0),!0}get value(){const e=this.dep.track();return Ho(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Gu(t,e,s=!1){let r,n;return M(t)?r=t:(r=t.get,n=t.set),new Ku(r,n,s)}const ir={},pr=new WeakMap;let $t;function zu(t,e=!1,s=$t){if(s){let r=pr.get(s);r||pr.set(s,r=[]),r.push(t)}}function Ju(t,e,s=J){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:Fe(O)||n===!1||n===0?ot(O,1):ot(O);let c,h,p,g,y=!1,E=!1;if(Se(t)?(h=()=>t.value,y=Fe(t)):ns(t)?(h=()=>u(t),y=!0):P(t)?(E=!0,y=t.some(O=>ns(O)||Fe(O)),h=()=>t.map(O=>{if(Se(O))return O.value;if(ns(O))return u(O);if(M(O))return l?l(O,2):O()})):M(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){St();try{p()}finally{kt()}}const O=$t;$t=c;try{return l?l(t,3,[g]):t(g)}finally{$t=O}}:h=Xe,e&&n){const O=h,D=n===!0?1/0:n;h=()=>ot(O(),D)}const C=ku(),I=()=>{c.stop(),C&&C.active&&$n(C.effects,c)};if(i&&e){const O=e;e=(...D)=>{O(...D),I()}}let N=E?new Array(t.length).fill(ir):ir;const L=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const D=c.run();if(n||y||(E?D.some((ae,ve)=>Dt(ae,N[ve])):Dt(D,N))){p&&p();const ae=$t;$t=c;try{const ve=[D,N===ir?void 0:E&&N[0]===ir?[]:N,g];l?l(e,3,ve):e(...ve),N=D}finally{$t=ae}}}else c.run()};return a&&a(L),c=new Mo(h),c.scheduler=o?()=>o(L,!1):L,g=O=>zu(O,!1,c),p=c.onStop=()=>{const O=pr.get(c);if(O){if(l)l(O,4);else for(const D of O)D();pr.delete(c)}},e?r?L(!0):N=c.run():o?o(L.bind(null,!0),!0):c.run(),I.pause=c.pause.bind(c),I.resume=c.resume.bind(c),I.stop=I,I}function ot(t,e=1/0,s){if(e<=0||!Y(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Se(t))ot(t.value,e,s);else if(P(t))for(let r=0;r<t.length;r++)ot(t[r],e,s);else if(fs(t)||rs(t))t.forEach(r=>{ot(r,e,s)});else if(jo(t)){for(const r in t)ot(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ot(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(t,e,s,r){try{return r?t(...r):t()}catch(n){Pr(n,e,s)}}function He(t,e,s,r){if(M(t)){const n=zs(t,e,s,r);return n&&Ao(n)&&n.catch(i=>{Pr(i,e,s)}),n}if(P(t)){const n=[];for(let i=0;i<t.length;i++)n.push(He(t[i],e,s,r));return n}}function Pr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||J;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){St(),zs(i,null,10,[t,l,u]),kt();return}}Yu(t,s,n,r,o)}function Yu(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const be=[];let Ye=-1;const is=[];let pt=null,es=0;const ea=Promise.resolve();let gr=null;function ta(t){const e=gr||ea;return t?e.then(this?t.bind(this):t):e}function Qu(t){let e=Ye+1,s=be.length;for(;e<s;){const r=e+s>>>1,n=be[r],i=Ns(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Hn(t){if(!(t.flags&1)){const e=Ns(t),s=be[be.length-1];!s||!(t.flags&2)&&e>=Ns(s)?be.push(t):be.splice(Qu(e),0,t),t.flags|=1,sa()}}function sa(){gr||(gr=ea.then(na))}function Xu(t){P(t)?is.push(...t):pt&&t.id===-1?pt.splice(es+1,0,t):t.flags&1||(is.push(t),t.flags|=1),sa()}function xi(t,e,s=Ye+1){for(;s<be.length;s++){const r=be[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;be.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ra(t){if(is.length){const e=[...new Set(is)].sort((s,r)=>Ns(s)-Ns(r));if(is.length=0,pt){pt.push(...e);return}for(pt=e,es=0;es<pt.length;es++){const s=pt[es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}pt=null,es=0}}const Ns=t=>t.id==null?t.flags&2?-1:1/0:t.id;function na(t){try{for(Ye=0;Ye<be.length;Ye++){const e=be[Ye];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),zs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ye<be.length;Ye++){const e=be[Ye];e&&(e.flags&=-2)}Ye=-1,be.length=0,ra(),gr=null,(be.length||is.length)&&na()}}let de=null,ia=null;function _r(t){const e=de;return de=t,ia=t&&t.type.__scopeId||null,e}function Fs(t,e=de,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Mi(-1);const i=_r(e);let o;try{o=t(...n)}finally{_r(i),r._d&&Mi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function js(t,e){if(de===null)return t;const s=Lr(de),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=J]=e[n];i&&(M(i)&&(i={mounted:i,updated:i}),i.deep&&ot(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ot(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(St(),He(l,s,8,[t.el,a,t,e]),kt())}}const Zu=Symbol("_vte"),oa=t=>t.__isTeleport,gt=Symbol("_leaveCb"),or=Symbol("_enterCb");function eh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pa(()=>{t.isMounted=!0}),ga(()=>{t.isUnmounting=!0}),t}const Le=[Function,Array],aa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Le,onEnter:Le,onAfterEnter:Le,onEnterCancelled:Le,onBeforeLeave:Le,onLeave:Le,onAfterLeave:Le,onLeaveCancelled:Le,onBeforeAppear:Le,onAppear:Le,onAfterAppear:Le,onAppearCancelled:Le},la=t=>{const e=t.subTree;return e.component?la(e.component):e},th={name:"BaseTransition",props:aa,setup(t,{slots:e}){const s=Qh(),r=eh();return()=>{const n=e.default&&ha(e.default(),!0);if(!n||!n.length)return;const i=ca(n),o=G(t),{mode:a}=o;if(r.isLeaving)return Gr(i);const l=Oi(i);if(!l)return Gr(i);let u=pn(l,o,r,s,h=>u=h);l.type!==we&&Bs(l,u);let c=s.subTree&&Oi(s.subTree);if(c&&c.type!==we&&!Rt(l,c)&&la(s).type!==we){let h=pn(c,o,r,s);if(Bs(c,h),a==="out-in"&&l.type!==we)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,c=void 0},Gr(i);a==="in-out"&&l.type!==we?h.delayLeave=(p,g,y)=>{const E=ua(r,c);E[String(c.key)]=c,p[gt]=()=>{g(),p[gt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function ca(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==we){e=s;break}}return e}const sh=th;function ua(t,e){const{leavingVNodes:s}=t;let r=s.get(e.type);return r||(r=Object.create(null),s.set(e.type,r)),r}function pn(t,e,s,r,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:y,onLeaveCancelled:E,onBeforeAppear:C,onAppear:I,onAfterAppear:N,onAppearCancelled:L}=e,O=String(t.key),D=ua(s,t),ae=(F,z)=>{F&&He(F,r,9,z)},ve=(F,z)=>{const se=z[1];ae(F,z),P(F)?F.every(A=>A.length<=1)&&se():F.length<=1&&se()},ke={mode:o,persisted:a,beforeEnter(F){let z=l;if(!s.isMounted)if(i)z=C||l;else return;F[gt]&&F[gt](!0);const se=D[O];se&&Rt(t,se)&&se.el[gt]&&se.el[gt](),ae(z,[F])},enter(F){let z=u,se=c,A=h;if(!s.isMounted)if(i)z=I||u,se=N||c,A=L||h;else return;let te=!1;const _e=F[or]=et=>{te||(te=!0,et?ae(A,[F]):ae(se,[F]),ke.delayedLeave&&ke.delayedLeave(),F[or]=void 0)};z?ve(z,[F,_e]):_e()},leave(F,z){const se=String(t.key);if(F[or]&&F[or](!0),s.isUnmounting)return z();ae(p,[F]);let A=!1;const te=F[gt]=_e=>{A||(A=!0,z(),_e?ae(E,[F]):ae(y,[F]),F[gt]=void 0,D[se]===t&&delete D[se])};D[se]=t,g?ve(g,[F,te]):te()},clone(F){const z=pn(F,e,s,r,n);return n&&n(z),z}};return ke}function Gr(t){if(jr(t))return t=yt(t),t.children=null,t}function Oi(t){if(!jr(t))return oa(t.type)&&t.children?ca(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&M(s.default))return s.default()}}function Bs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Bs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ha(t,e=!1,s){let r=[],n=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===he?(o.patchFlag&128&&n++,r=r.concat(ha(o.children,e,a))):(e||o.type!==we)&&r.push(a!=null?yt(o,{key:a}):o)}if(n>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function da(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function mr(t,e,s,r,n=!1){if(P(t)){t.forEach((y,E)=>mr(y,e&&(P(e)?e[E]:e),s,r,n));return}if(os(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&mr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Lr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===J?a.refs={}:a.refs,h=a.setupState,p=G(h),g=h===J?()=>!1:y=>W(p,y);if(u!=null&&u!==l&&(ie(u)?(c[u]=null,g(u)&&(h[u]=null)):Se(u)&&(u.value=null)),M(l))zs(l,a,12,[o,c]);else{const y=ie(l),E=Se(l);if(y||E){const C=()=>{if(t.f){const I=y?g(l)?h[l]:c[l]:l.value;n?P(I)&&$n(I,i):P(I)?I.includes(i)||I.push(i):y?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,g(l)&&(h[l]=o)):E&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,je(C,s)):C()}}}Or().requestIdleCallback;Or().cancelIdleCallback;const os=t=>!!t.type.__asyncLoader,jr=t=>t.type.__isKeepAlive;function rh(t,e){fa(t,"a",e)}function nh(t,e){fa(t,"da",e)}function fa(t,e,s=pe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if($r(e,r,s),s){let n=s.parent;for(;n&&n.parent;)jr(n.parent.vnode)&&ih(r,e,s,n),n=n.parent}}function ih(t,e,s,r){const n=$r(e,t,r,!0);_a(()=>{$n(r[e],n)},s)}function $r(t,e,s=pe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{St();const a=Js(s),l=He(e,s,t,o);return a(),kt(),l});return r?n.unshift(i):n.push(i),i}}const ct=t=>(e,s=pe)=>{(!qs||t==="sp")&&$r(t,(...r)=>e(...r),s)},oh=ct("bm"),pa=ct("m"),ah=ct("bu"),lh=ct("u"),ga=ct("bum"),_a=ct("um"),ch=ct("sp"),uh=ct("rtg"),hh=ct("rtc");function dh(t,e=pe){$r("ec",t,e)}const ma="components";function Ut(t,e){return ya(ma,t,!0,e)||t}const va=Symbol.for("v-ndc");function fh(t){return ie(t)?ya(ma,t,!1)||t:t||va}function ya(t,e,s=!0,r=!1){const n=de||pe;if(n){const i=n.type;{const a=sd(i,!1);if(a&&(a===e||a===Me(e)||a===xr(Me(e))))return i}const o=Ci(n[t]||i[t],e)||Ci(n.appContext[t],e);return!o&&r?i:o}}function Ci(t,e){return t&&(t[e]||t[Me(e)]||t[xr(Me(e))])}function $s(t,e,s,r){let n;const i=s,o=P(t);if(o||ie(t)){const a=o&&ns(t);let l=!1;a&&(l=!Fe(t),t=Cr(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?xe(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Y(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}function ph(t,e,s={},r,n){if(de.ce||de.parent&&os(de.parent)&&de.parent.ce)return q(),lt(he,null,[oe("slot",s,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),q();const o=i&&ba(i(s)),a=s.key||o&&o.key,l=lt(he,{key:(a&&!Be(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function ba(t){return t.some(e=>Vs(e)?!(e.type===we||e.type===he&&!ba(e.children)):!0)?t:null}const gn=t=>t?Ba(t)?Lr(t):gn(t.parent):null,Is=ge(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gn(t.parent),$root:t=>gn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Sa(t),$forceUpdate:t=>t.f||(t.f=()=>{Hn(t.update)}),$nextTick:t=>t.n||(t.n=ta.bind(t.proxy)),$watch:t=>Dh.bind(t)}),zr=(t,e)=>t!==J&&!t.__isScriptSetup&&W(t,e),gh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(zr(r,e))return o[e]=1,r[e];if(n!==J&&W(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&W(u,e))return o[e]=3,i[e];if(s!==J&&W(s,e))return o[e]=4,s[e];_n&&(o[e]=0)}}const c=Is[e];let h,p;if(c)return e==="$attrs"&&me(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==J&&W(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,W(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return zr(n,e)?(n[e]=s,!0):r!==J&&W(r,e)?(r[e]=s,!0):W(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==J&&W(t,o)||zr(e,o)||(a=i[0])&&W(a,o)||W(r,o)||W(Is,o)||W(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:W(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ai(t){return P(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let _n=!0;function _h(t){const e=Sa(t),s=t.proxy,r=t.ctx;_n=!1,e.beforeCreate&&Pi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:y,activated:E,deactivated:C,beforeDestroy:I,beforeUnmount:N,destroyed:L,unmounted:O,render:D,renderTracked:ae,renderTriggered:ve,errorCaptured:ke,serverPrefetch:F,expose:z,inheritAttrs:se,components:A,directives:te,filters:_e}=e;if(u&&mh(u,r,null),o)for(const re in o){const Q=o[re];M(Q)&&(r[re]=Q.bind(s))}if(n){const re=n.call(s,s);Y(re)&&(t.data=Ar(re))}if(_n=!0,i)for(const re in i){const Q=i[re],Tt=M(Q)?Q.bind(s,s):M(Q.get)?Q.get.bind(s,s):Xe,Ys=!M(Q)&&M(Q.set)?Q.set.bind(s):Xe,Et=Va({get:Tt,set:Ys});Object.defineProperty(r,re,{enumerable:!0,configurable:!0,get:()=>Et.value,set:qe=>Et.value=qe})}if(a)for(const re in a)wa(a[re],r,s,re);if(l){const re=M(l)?l.call(s):l;Reflect.ownKeys(re).forEach(Q=>{kh(Q,re[Q])})}c&&Pi(c,t,"c");function le(re,Q){P(Q)?Q.forEach(Tt=>re(Tt.bind(s))):Q&&re(Q.bind(s))}if(le(oh,h),le(pa,p),le(ah,g),le(lh,y),le(rh,E),le(nh,C),le(dh,ke),le(hh,ae),le(uh,ve),le(ga,N),le(_a,O),le(ch,F),P(z))if(z.length){const re=t.exposed||(t.exposed={});z.forEach(Q=>{Object.defineProperty(re,Q,{get:()=>s[Q],set:Tt=>s[Q]=Tt})})}else t.exposed||(t.exposed={});D&&t.render===Xe&&(t.render=D),se!=null&&(t.inheritAttrs=se),A&&(t.components=A),te&&(t.directives=te),F&&da(t)}function mh(t,e,s=Xe){P(t)&&(t=mn(t));for(const r in t){const n=t[r];let i;Y(n)?"default"in n?i=cr(n.from||r,n.default,!0):i=cr(n.from||r):i=cr(n),Se(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Pi(t,e,s){He(P(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function wa(t,e,s,r){let n=r.includes(".")?Da(s,r):()=>s[r];if(ie(t)){const i=e[t];M(i)&&Rs(n,i)}else if(M(t))Rs(n,t.bind(s));else if(Y(t))if(P(t))t.forEach(i=>wa(i,e,s,r));else{const i=M(t.handler)?t.handler.bind(s):e[t.handler];M(i)&&Rs(n,i,t)}}function Sa(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>vr(l,u,o,!0)),vr(l,e,o)),Y(e)&&i.set(e,l),l}function vr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&vr(t,i,s,!0),n&&n.forEach(o=>vr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=vh[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const vh={data:ji,props:$i,emits:$i,methods:Ts,computed:Ts,beforeCreate:ye,created:ye,beforeMount:ye,mounted:ye,beforeUpdate:ye,updated:ye,beforeDestroy:ye,beforeUnmount:ye,destroyed:ye,unmounted:ye,activated:ye,deactivated:ye,errorCaptured:ye,serverPrefetch:ye,components:Ts,directives:Ts,watch:bh,provide:ji,inject:yh};function ji(t,e){return e?t?function(){return ge(M(t)?t.call(this,this):t,M(e)?e.call(this,this):e)}:e:t}function yh(t,e){return Ts(mn(t),mn(e))}function mn(t){if(P(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ye(t,e){return t?[...new Set([].concat(t,e))]:e}function Ts(t,e){return t?ge(Object.create(null),t,e):e}function $i(t,e){return t?P(t)&&P(e)?[...new Set([...t,...e])]:ge(Object.create(null),Ai(t),Ai(e??{})):e}function bh(t,e){if(!t)return e;if(!e)return t;const s=ge(Object.create(null),t);for(const r in e)s[r]=ye(t[r],e[r]);return s}function ka(){return{app:null,config:{isNativeTag:cu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wh=0;function Sh(t,e){return function(r,n=null){M(r)||(r=ge({},r)),n!=null&&!Y(n)&&(n=null);const i=ka(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:wh++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:id,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&M(c.install)?(o.add(c),c.install(u,...h)):M(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||oe(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Lr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(He(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=as;as=u;try{return c()}finally{as=h}}};return u}}let as=null;function kh(t,e){if(pe){let s=pe.provides;const r=pe.parent&&pe.parent.provides;r===s&&(s=pe.provides=Object.create(r)),s[t]=e}}function cr(t,e,s=!1){const r=pe||de;if(r||as){const n=as?as._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&M(e)?e.call(r&&r.proxy):e}}const Ta={},Ea=()=>Object.create(Ta),xa=t=>Object.getPrototypeOf(t)===Ta;function Th(t,e,s,r=!1){const n={},i=Ea();t.propsDefaults=Object.create(null),Oa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Hu(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Eh(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=G(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(Ir(t.emitsOptions,p))continue;const g=e[p];if(l)if(W(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const y=Me(p);n[y]=vn(l,a,y,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Oa(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!W(e,h)&&((c=wt(h))===h||!W(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=vn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!W(e,h))&&(delete i[h],u=!0)}u&&it(t.attrs,"set","")}function Oa(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Cs(l))continue;const u=e[l];let c;n&&W(n,c=Me(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Ir(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=G(s),u=a||J;for(let c=0;c<i.length;c++){const h=i[c];s[h]=vn(n,l,h,u[h],t,!W(u,h))}}return o}function vn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=W(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&M(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Js(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===wt(s))&&(r=!0))}return r}const xh=new WeakMap;function Ca(t,e,s=!1){const r=s?xh:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!M(t)){const c=h=>{l=!0;const[p,g]=Ca(h,e,!0);ge(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Y(t)&&r.set(t,ss),ss;if(P(i))for(let c=0;c<i.length;c++){const h=Me(i[c]);Ii(h)&&(o[h]=J)}else if(i)for(const c in i){const h=Me(c);if(Ii(h)){const p=i[c],g=o[h]=P(p)||M(p)?{type:p}:ge({},p),y=g.type;let E=!1,C=!0;if(P(y))for(let I=0;I<y.length;++I){const N=y[I],L=M(N)&&N.name;if(L==="Boolean"){E=!0;break}else L==="String"&&(C=!1)}else E=M(y)&&y.name==="Boolean";g[0]=E,g[1]=C,(E||W(g,"default"))&&a.push(h)}}const u=[o,a];return Y(t)&&r.set(t,u),u}function Ii(t){return t[0]!=="$"&&!Cs(t)}const Aa=t=>t[0]==="_"||t==="$stable",Vn=t=>P(t)?t.map(Qe):[Qe(t)],Oh=(t,e,s)=>{if(e._n)return e;const r=Fs((...n)=>Vn(e(...n)),s);return r._c=!1,r},Pa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Aa(n))continue;const i=t[n];if(M(i))e[n]=Oh(n,i,r);else if(i!=null){const o=Vn(i);e[n]=()=>o}}},ja=(t,e)=>{const s=Vn(e);t.slots.default=()=>s},$a=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Ch=(t,e,s)=>{const r=t.slots=Ea();if(t.vnode.shapeFlag&32){const n=e._;n?($a(r,e,s),s&&$o(r,"_",n,!0)):Pa(e,r)}else e&&ja(t,e)},Ah=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=J;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:$a(n,e,s):(i=!e.$stable,Pa(e,n)),o=e}else e&&(ja(t,e),o={default:1});if(i)for(const a in n)!Aa(a)&&o[a]==null&&delete n[a]},je=Vh;function Ph(t){return jh(t)}function jh(t,e){const s=Or();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Xe,insertStaticContent:y}=t,E=(d,f,_,b=null,m=null,v=null,T=void 0,k=null,S=!!f.dynamicChildren)=>{if(d===f)return;d&&!Rt(d,f)&&(b=Qs(d),qe(d,m,v,!0),d=null),f.patchFlag===-2&&(S=!1,f.dynamicChildren=null);const{type:w,ref:$,shapeFlag:x}=f;switch(w){case Rr:C(d,f,_,b);break;case we:I(d,f,_,b);break;case Yr:d==null&&N(f,_,b,T);break;case he:A(d,f,_,b,m,v,T,k,S);break;default:x&1?D(d,f,_,b,m,v,T,k,S):x&6?te(d,f,_,b,m,v,T,k,S):(x&64||x&128)&&w.process(d,f,_,b,m,v,T,k,S,_s)}$!=null&&m&&mr($,d&&d.ref,v,f||d,!f)},C=(d,f,_,b)=>{if(d==null)r(f.el=a(f.children),_,b);else{const m=f.el=d.el;f.children!==d.children&&u(m,f.children)}},I=(d,f,_,b)=>{d==null?r(f.el=l(f.children||""),_,b):f.el=d.el},N=(d,f,_,b)=>{[d.el,d.anchor]=y(d.children,f,_,b,d.el,d.anchor)},L=({el:d,anchor:f},_,b)=>{let m;for(;d&&d!==f;)m=p(d),r(d,_,b),d=m;r(f,_,b)},O=({el:d,anchor:f})=>{let _;for(;d&&d!==f;)_=p(d),n(d),d=_;n(f)},D=(d,f,_,b,m,v,T,k,S)=>{f.type==="svg"?T="svg":f.type==="math"&&(T="mathml"),d==null?ae(f,_,b,m,v,T,k,S):F(d,f,m,v,T,k,S)},ae=(d,f,_,b,m,v,T,k)=>{let S,w;const{props:$,shapeFlag:x,transition:j,dirs:R}=d;if(S=d.el=o(d.type,v,$&&$.is,$),x&8?c(S,d.children):x&16&&ke(d.children,S,null,b,m,Jr(d,v),T,k),R&&Ot(d,null,b,"created"),ve(S,d,d.scopeId,T,b),$){for(const X in $)X!=="value"&&!Cs(X)&&i(S,X,null,$[X],v,b);"value"in $&&i(S,"value",null,$.value,v),(w=$.onVnodeBeforeMount)&&ze(w,b,d)}R&&Ot(d,null,b,"beforeMount");const H=$h(m,j);H&&j.beforeEnter(S),r(S,f,_),((w=$&&$.onVnodeMounted)||H||R)&&je(()=>{w&&ze(w,b,d),H&&j.enter(S),R&&Ot(d,null,b,"mounted")},m)},ve=(d,f,_,b,m)=>{if(_&&g(d,_),b)for(let v=0;v<b.length;v++)g(d,b[v]);if(m){let v=m.subTree;if(f===v||Ua(v.type)&&(v.ssContent===f||v.ssFallback===f)){const T=m.vnode;ve(d,T,T.scopeId,T.slotScopeIds,m.parent)}}},ke=(d,f,_,b,m,v,T,k,S=0)=>{for(let w=S;w<d.length;w++){const $=d[w]=k?_t(d[w]):Qe(d[w]);E(null,$,f,_,b,m,v,T,k)}},F=(d,f,_,b,m,v,T)=>{const k=f.el=d.el;let{patchFlag:S,dynamicChildren:w,dirs:$}=f;S|=d.patchFlag&16;const x=d.props||J,j=f.props||J;let R;if(_&&Ct(_,!1),(R=j.onVnodeBeforeUpdate)&&ze(R,_,f,d),$&&Ot(f,d,_,"beforeUpdate"),_&&Ct(_,!0),(x.innerHTML&&j.innerHTML==null||x.textContent&&j.textContent==null)&&c(k,""),w?z(d.dynamicChildren,w,k,_,b,Jr(f,m),v):T||Q(d,f,k,null,_,b,Jr(f,m),v,!1),S>0){if(S&16)se(k,x,j,_,m);else if(S&2&&x.class!==j.class&&i(k,"class",null,j.class,m),S&4&&i(k,"style",x.style,j.style,m),S&8){const H=f.dynamicProps;for(let X=0;X<H.length;X++){const K=H[X],Ce=x[K],Te=j[K];(Te!==Ce||K==="value")&&i(k,K,Ce,Te,m,_)}}S&1&&d.children!==f.children&&c(k,f.children)}else!T&&w==null&&se(k,x,j,_,m);((R=j.onVnodeUpdated)||$)&&je(()=>{R&&ze(R,_,f,d),$&&Ot(f,d,_,"updated")},b)},z=(d,f,_,b,m,v,T)=>{for(let k=0;k<f.length;k++){const S=d[k],w=f[k],$=S.el&&(S.type===he||!Rt(S,w)||S.shapeFlag&70)?h(S.el):_;E(S,w,$,null,b,m,v,T,!0)}},se=(d,f,_,b,m)=>{if(f!==_){if(f!==J)for(const v in f)!Cs(v)&&!(v in _)&&i(d,v,f[v],null,m,b);for(const v in _){if(Cs(v))continue;const T=_[v],k=f[v];T!==k&&v!=="value"&&i(d,v,k,T,m,b)}"value"in _&&i(d,"value",f.value,_.value,m)}},A=(d,f,_,b,m,v,T,k,S)=>{const w=f.el=d?d.el:a(""),$=f.anchor=d?d.anchor:a("");let{patchFlag:x,dynamicChildren:j,slotScopeIds:R}=f;R&&(k=k?k.concat(R):R),d==null?(r(w,_,b),r($,_,b),ke(f.children||[],_,$,m,v,T,k,S)):x>0&&x&64&&j&&d.dynamicChildren?(z(d.dynamicChildren,j,_,m,v,T,k),(f.key!=null||m&&f===m.subTree)&&Ia(d,f,!0)):Q(d,f,_,$,m,v,T,k,S)},te=(d,f,_,b,m,v,T,k,S)=>{f.slotScopeIds=k,d==null?f.shapeFlag&512?m.ctx.activate(f,_,b,T,S):_e(f,_,b,m,v,T,S):et(d,f,S)},_e=(d,f,_,b,m,v,T)=>{const k=d.component=Yh(d,b,m);if(jr(d)&&(k.ctx.renderer=_s),Xh(k,!1,T),k.asyncDep){if(m&&m.registerDep(k,le,T),!d.el){const S=k.subTree=oe(we);I(null,S,f,_)}}else le(k,d,f,_,m,v,T)},et=(d,f,_)=>{const b=f.component=d.component;if(Bh(d,f,_))if(b.asyncDep&&!b.asyncResolved){re(b,f,_);return}else b.next=f,b.update();else f.el=d.el,b.vnode=f},le=(d,f,_,b,m,v,T)=>{const k=()=>{if(d.isMounted){let{next:x,bu:j,u:R,parent:H,vnode:X}=d;{const Ke=Ra(d);if(Ke){x&&(x.el=X.el,re(d,x,T)),Ke.asyncDep.then(()=>{d.isUnmounted||k()});return}}let K=x,Ce;Ct(d,!1),x?(x.el=X.el,re(d,x,T)):x=X,j&&lr(j),(Ce=x.props&&x.props.onVnodeBeforeUpdate)&&ze(Ce,H,x,X),Ct(d,!0);const Te=Li(d),We=d.subTree;d.subTree=Te,E(We,Te,h(We.el),Qs(We),d,m,v),x.el=Te.el,K===null&&Hh(d,Te.el),R&&je(R,m),(Ce=x.props&&x.props.onVnodeUpdated)&&je(()=>ze(Ce,H,x,X),m)}else{let x;const{el:j,props:R}=f,{bm:H,m:X,parent:K,root:Ce,type:Te}=d,We=os(f);Ct(d,!1),H&&lr(H),!We&&(x=R&&R.onVnodeBeforeMount)&&ze(x,K,f),Ct(d,!0);{Ce.ce&&Ce.ce._injectChildStyle(Te);const Ke=d.subTree=Li(d);E(null,Ke,_,b,d,m,v),f.el=Ke.el}if(X&&je(X,m),!We&&(x=R&&R.onVnodeMounted)){const Ke=f;je(()=>ze(x,K,Ke),m)}(f.shapeFlag&256||K&&os(K.vnode)&&K.vnode.shapeFlag&256)&&d.a&&je(d.a,m),d.isMounted=!0,f=_=b=null}};d.scope.on();const S=d.effect=new Mo(k);d.scope.off();const w=d.update=S.run.bind(S),$=d.job=S.runIfDirty.bind(S);$.i=d,$.id=d.uid,S.scheduler=()=>Hn($),Ct(d,!0),w()},re=(d,f,_)=>{f.component=d;const b=d.vnode.props;d.vnode=f,d.next=null,Eh(d,f.props,b,_),Ah(d,f.children,_),St(),xi(d),kt()},Q=(d,f,_,b,m,v,T,k,S=!1)=>{const w=d&&d.children,$=d?d.shapeFlag:0,x=f.children,{patchFlag:j,shapeFlag:R}=f;if(j>0){if(j&128){Ys(w,x,_,b,m,v,T,k,S);return}else if(j&256){Tt(w,x,_,b,m,v,T,k,S);return}}R&8?($&16&&gs(w,m,v),x!==w&&c(_,x)):$&16?R&16?Ys(w,x,_,b,m,v,T,k,S):gs(w,m,v,!0):($&8&&c(_,""),R&16&&ke(x,_,b,m,v,T,k,S))},Tt=(d,f,_,b,m,v,T,k,S)=>{d=d||ss,f=f||ss;const w=d.length,$=f.length,x=Math.min(w,$);let j;for(j=0;j<x;j++){const R=f[j]=S?_t(f[j]):Qe(f[j]);E(d[j],R,_,null,m,v,T,k,S)}w>$?gs(d,m,v,!0,!1,x):ke(f,_,b,m,v,T,k,S,x)},Ys=(d,f,_,b,m,v,T,k,S)=>{let w=0;const $=f.length;let x=d.length-1,j=$-1;for(;w<=x&&w<=j;){const R=d[w],H=f[w]=S?_t(f[w]):Qe(f[w]);if(Rt(R,H))E(R,H,_,null,m,v,T,k,S);else break;w++}for(;w<=x&&w<=j;){const R=d[x],H=f[j]=S?_t(f[j]):Qe(f[j]);if(Rt(R,H))E(R,H,_,null,m,v,T,k,S);else break;x--,j--}if(w>x){if(w<=j){const R=j+1,H=R<$?f[R].el:b;for(;w<=j;)E(null,f[w]=S?_t(f[w]):Qe(f[w]),_,H,m,v,T,k,S),w++}}else if(w>j)for(;w<=x;)qe(d[w],m,v,!0),w++;else{const R=w,H=w,X=new Map;for(w=H;w<=j;w++){const Ae=f[w]=S?_t(f[w]):Qe(f[w]);Ae.key!=null&&X.set(Ae.key,w)}let K,Ce=0;const Te=j-H+1;let We=!1,Ke=0;const ms=new Array(Te);for(w=0;w<Te;w++)ms[w]=0;for(w=R;w<=x;w++){const Ae=d[w];if(Ce>=Te){qe(Ae,m,v,!0);continue}let Ge;if(Ae.key!=null)Ge=X.get(Ae.key);else for(K=H;K<=j;K++)if(ms[K-H]===0&&Rt(Ae,f[K])){Ge=K;break}Ge===void 0?qe(Ae,m,v,!0):(ms[Ge-H]=w+1,Ge>=Ke?Ke=Ge:We=!0,E(Ae,f[Ge],_,null,m,v,T,k,S),Ce++)}const Yn=We?Ih(ms):ss;for(K=Yn.length-1,w=Te-1;w>=0;w--){const Ae=H+w,Ge=f[Ae],Qn=Ae+1<$?f[Ae+1].el:b;ms[w]===0?E(null,Ge,_,Qn,m,v,T,k,S):We&&(K<0||w!==Yn[K]?Et(Ge,_,Qn,2):K--)}}},Et=(d,f,_,b,m=null)=>{const{el:v,type:T,transition:k,children:S,shapeFlag:w}=d;if(w&6){Et(d.component.subTree,f,_,b);return}if(w&128){d.suspense.move(f,_,b);return}if(w&64){T.move(d,f,_,_s);return}if(T===he){r(v,f,_);for(let x=0;x<S.length;x++)Et(S[x],f,_,b);r(d.anchor,f,_);return}if(T===Yr){L(d,f,_);return}if(b!==2&&w&1&&k)if(b===0)k.beforeEnter(v),r(v,f,_),je(()=>k.enter(v),m);else{const{leave:x,delayLeave:j,afterLeave:R}=k,H=()=>r(v,f,_),X=()=>{x(v,()=>{H(),R&&R()})};j?j(v,H,X):X()}else r(v,f,_)},qe=(d,f,_,b=!1,m=!1)=>{const{type:v,props:T,ref:k,children:S,dynamicChildren:w,shapeFlag:$,patchFlag:x,dirs:j,cacheIndex:R}=d;if(x===-2&&(m=!1),k!=null&&mr(k,null,_,d,!0),R!=null&&(f.renderCache[R]=void 0),$&256){f.ctx.deactivate(d);return}const H=$&1&&j,X=!os(d);let K;if(X&&(K=T&&T.onVnodeBeforeUnmount)&&ze(K,f,d),$&6)al(d.component,_,b);else{if($&128){d.suspense.unmount(_,b);return}H&&Ot(d,null,f,"beforeUnmount"),$&64?d.type.remove(d,f,_,_s,b):w&&!w.hasOnce&&(v!==he||x>0&&x&64)?gs(w,f,_,!1,!0):(v===he&&x&384||!m&&$&16)&&gs(S,f,_),b&&zn(d)}(X&&(K=T&&T.onVnodeUnmounted)||H)&&je(()=>{K&&ze(K,f,d),H&&Ot(d,null,f,"unmounted")},_)},zn=d=>{const{type:f,el:_,anchor:b,transition:m}=d;if(f===he){ol(_,b);return}if(f===Yr){O(d);return}const v=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(d.shapeFlag&1&&m&&!m.persisted){const{leave:T,delayLeave:k}=m,S=()=>T(_,v);k?k(d.el,v,S):S()}else v()},ol=(d,f)=>{let _;for(;d!==f;)_=p(d),n(d),d=_;n(f)},al=(d,f,_)=>{const{bum:b,scope:m,job:v,subTree:T,um:k,m:S,a:w}=d;Ri(S),Ri(w),b&&lr(b),m.stop(),v&&(v.flags|=8,qe(T,d,f,_)),k&&je(k,f),je(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},gs=(d,f,_,b=!1,m=!1,v=0)=>{for(let T=v;T<d.length;T++)qe(d[T],f,_,b,m)},Qs=d=>{if(d.shapeFlag&6)return Qs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),_=f&&f[Zu];return _?p(_):f};let Mr=!1;const Jn=(d,f,_)=>{d==null?f._vnode&&qe(f._vnode,null,null,!0):E(f._vnode||null,d,f,null,null,null,_),f._vnode=d,Mr||(Mr=!0,xi(),ra(),Mr=!1)},_s={p:E,um:qe,m:Et,r:zn,mt:_e,mc:ke,pc:Q,pbc:z,n:Qs,o:t};return{render:Jn,hydrate:void 0,createApp:Sh(Jn)}}function Jr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ct({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $h(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ia(t,e,s=!1){const r=t.children,n=e.children;if(P(r)&&P(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=_t(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ia(o,a)),a.type===Rr&&(a.el=o.el)}}function Ih(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ra(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ra(e)}function Ri(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Rh=Symbol.for("v-scx"),Lh=()=>cr(Rh);function Rs(t,e,s){return La(t,e,s)}function La(t,e,s=J){const{immediate:r,deep:n,flush:i,once:o}=s,a=ge({},s),l=e&&r||!e&&i!=="post";let u;if(qs){if(i==="sync"){const g=Lh();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Xe,g.resume=Xe,g.pause=Xe,g}}const c=pe;a.call=(g,y,E)=>He(g,c,y,E);let h=!1;i==="post"?a.scheduler=g=>{je(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,y)=>{y?g():Hn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=Ju(t,e,a);return qs&&(u?u.push(p):l&&p()),p}function Dh(t,e,s){const r=this.proxy,n=ie(t)?t.includes(".")?Da(r,t):()=>r[t]:t.bind(r,r);let i;M(e)?i=e:(i=e.handler,s=e);const o=Js(this),a=La(n,i.bind(r),s);return o(),a}function Da(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Mh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Me(e)}Modifiers`]||t[`${wt(e)}Modifiers`];function Uh(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||J;let n=s;const i=e.startsWith("update:"),o=i&&Mh(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ie(c)?c.trim():c)),o.number&&(n=s.map(fr)));let a,l=r[a=Hr(e)]||r[a=Hr(Me(e))];!l&&i&&(l=r[a=Hr(wt(e))]),l&&He(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,He(u,t,6,n)}}function Ma(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!M(t)){const l=u=>{const c=Ma(u,e,!0);c&&(a=!0,ge(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Y(t)&&r.set(t,null),null):(P(i)?i.forEach(l=>o[l]=null):ge(o,i),Y(t)&&r.set(t,o),o)}function Ir(t,e){return!t||!Tr(e)?!1:(e=e.slice(2).replace(/Once$/,""),W(t,e[0].toLowerCase()+e.slice(1))||W(t,wt(e))||W(t,e))}function Li(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:y,inheritAttrs:E}=t,C=_r(t);let I,N;try{if(s.shapeFlag&4){const O=n||r,D=O;I=Qe(u.call(D,O,c,h,g,p,y)),N=a}else{const O=e;I=Qe(O.length>1?O(h,{attrs:a,slots:o,emit:l}):O(h,null)),N=e.props?a:Nh(a)}}catch(O){Ls.length=0,Pr(O,t,1),I=oe(we)}let L=I;if(N&&E!==!1){const O=Object.keys(N),{shapeFlag:D}=L;O.length&&D&7&&(i&&O.some(jn)&&(N=Fh(N,i)),L=yt(L,N,!1,!0))}return s.dirs&&(L=yt(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&Bs(L,s.transition),I=L,_r(C),I}const Nh=t=>{let e;for(const s in t)(s==="class"||s==="style"||Tr(s))&&((e||(e={}))[s]=t[s]);return e},Fh=(t,e)=>{const s={};for(const r in t)(!jn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Bh(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Di(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!Ir(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Di(r,o,u):!0:!!o;return!1}function Di(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Ir(s,i))return!0}return!1}function Hh({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ua=t=>t.__isSuspense;function Vh(t,e){e&&e.pendingBranch?P(t)?e.effects.push(...t):e.effects.push(t):Xu(t)}const he=Symbol.for("v-fgt"),Rr=Symbol.for("v-txt"),we=Symbol.for("v-cmt"),Yr=Symbol.for("v-stc"),Ls=[];let Re=null;function q(t=!1){Ls.push(Re=t?null:[])}function qh(){Ls.pop(),Re=Ls[Ls.length-1]||null}let Hs=1;function Mi(t,e=!1){Hs+=t,t<0&&Re&&e&&(Re.hasOnce=!0)}function Na(t){return t.dynamicChildren=Hs>0?Re||ss:null,qh(),Hs>0&&Re&&Re.push(t),t}function ne(t,e,s,r,n,i){return Na(V(t,e,s,r,n,i,!0))}function lt(t,e,s,r,n){return Na(oe(t,e,s,r,n,!0))}function Vs(t){return t?t.__v_isVNode===!0:!1}function Rt(t,e){return t.type===e.type&&t.key===e.key}const Fa=({key:t})=>t??null,ur=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ie(t)||Se(t)||M(t)?{i:de,r:t,k:e,f:!!s}:t:null);function V(t,e=null,s=null,r=0,n=null,i=t===he?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fa(e),ref:e&&ur(e),scopeId:ia,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:de};return a?(qn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ie(s)?8:16),Hs>0&&!o&&Re&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Re.push(l),l}const oe=Wh;function Wh(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===va)&&(t=we),Vs(t)){const a=yt(t,e,!0);return s&&qn(a,s),Hs>0&&!i&&Re&&(a.shapeFlag&6?Re[Re.indexOf(t)]=a:Re.push(a)),a.patchFlag=-2,a}if(rd(t)&&(t=t.__vccOpts),e){e=Kh(e);let{class:a,style:l}=e;a&&!ie(a)&&(e.class=vt(a)),Y(l)&&(Bn(l)&&!P(l)&&(l=ge({},l)),e.style=Rn(l))}const o=ie(t)?1:Ua(t)?128:oa(t)?64:Y(t)?4:M(t)?2:0;return V(t,e,s,r,n,o,i,!0)}function Kh(t){return t?Bn(t)||xa(t)?ge({},t):t:null}function yt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Gh(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Fa(u),ref:e&&e.ref?s&&i?P(i)?i.concat(ur(e)):[i,ur(e)]:ur(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==he?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yt(t.ssContent),ssFallback:t.ssFallback&&yt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Bs(c,l.clone(c)),c}function yr(t=" ",e=0){return oe(Rr,null,t,e)}function Es(t="",e=!1){return e?(q(),lt(we,null,t)):oe(we,null,t)}function Qe(t){return t==null||typeof t=="boolean"?oe(we):P(t)?oe(he,null,t.slice()):Vs(t)?_t(t):oe(Rr,null,String(t))}function _t(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yt(t)}function qn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(P(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),qn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!xa(e)?e._ctx=de:n===3&&de&&(de.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else M(e)?(e={default:e,_ctx:de},s=32):(e=String(e),r&64?(s=16,e=[yr(e)]):s=8);t.children=e,t.shapeFlag|=s}function Gh(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=vt([e.class,r.class]));else if(n==="style")e.style=Rn([e.style,r.style]);else if(Tr(n)){const i=e[n],o=r[n];o&&i!==o&&!(P(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function ze(t,e,s,r=null){He(t,e,7,[s,r])}const zh=ka();let Jh=0;function Yh(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||zh,i={uid:Jh++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Do(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ca(r,n),emitsOptions:Ma(r,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:r.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Uh.bind(null,i),t.ce&&t.ce(i),i}let pe=null;const Qh=()=>pe||de;let br,yn;{const t=Or(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};br=e("__VUE_INSTANCE_SETTERS__",s=>pe=s),yn=e("__VUE_SSR_SETTERS__",s=>qs=s)}const Js=t=>{const e=pe;return br(t),t.scope.on(),()=>{t.scope.off(),br(e)}},Ui=()=>{pe&&pe.scope.off(),br(null)};function Ba(t){return t.vnode.shapeFlag&4}let qs=!1;function Xh(t,e=!1,s=!1){e&&yn(e);const{props:r,children:n}=t.vnode,i=Ba(t);Th(t,r,i,e),Ch(t,n,s);const o=i?Zh(t,e):void 0;return e&&yn(!1),o}function Zh(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gh);const{setup:r}=s;if(r){St();const n=t.setupContext=r.length>1?td(t):null,i=Js(t),o=zs(r,t,0,[t.props,n]),a=Ao(o);if(kt(),i(),(a||t.sp)&&!os(t)&&da(t),a){if(o.then(Ui,Ui),e)return o.then(l=>{Ni(t,l)}).catch(l=>{Pr(l,t,0)});t.asyncDep=o}else Ni(t,o)}else Ha(t)}function Ni(t,e,s){M(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Zo(e)),Ha(t)}function Ha(t,e,s){const r=t.type;t.render||(t.render=r.render||Xe);{const n=Js(t);St();try{_h(t)}finally{kt(),n()}}}const ed={get(t,e){return me(t,"get",""),t[e]}};function td(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,ed),slots:t.slots,emit:t.emit,expose:e}}function Lr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zo(Vu(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Is)return Is[s](t)},has(e,s){return s in e||s in Is}})):t.proxy}function sd(t,e=!0){return M(t)?t.displayName||t.name:t.name||e&&t.__name}function rd(t){return M(t)&&"__vccOpts"in t}const Va=(t,e)=>Gu(t,e,qs);function nd(t,e,s){const r=arguments.length;return r===2?Y(e)&&!P(e)?Vs(e)?oe(t,null,[e]):oe(t,e):oe(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Vs(s)&&(s=[s]),oe(t,e,s))}const id="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bn;const Fi=typeof window<"u"&&window.trustedTypes;if(Fi)try{bn=Fi.createPolicy("vue",{createHTML:t=>t})}catch{}const qa=bn?t=>bn.createHTML(t):t=>t,od="http://www.w3.org/2000/svg",ad="http://www.w3.org/1998/Math/MathML",nt=typeof document<"u"?document:null,Bi=nt&&nt.createElement("template"),ld={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?nt.createElementNS(od,t):e==="mathml"?nt.createElementNS(ad,t):s?nt.createElement(t,{is:s}):nt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>nt.createTextNode(t),createComment:t=>nt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Bi.innerHTML=qa(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Bi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ut="transition",Ss="animation",Ws=Symbol("_vtc"),Wa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cd=ge({},aa,Wa),ud=t=>(t.displayName="Transition",t.props=cd,t),Ka=ud((t,{slots:e})=>nd(sh,hd(t),e)),At=(t,e=[])=>{P(t)?t.forEach(s=>s(...e)):t&&t(...e)},Hi=t=>t?P(t)?t.some(e=>e.length>1):t.length>1:!1;function hd(t){const e={};for(const A in t)A in Wa||(e[A]=t[A]);if(t.css===!1)return e;const{name:s="v",type:r,duration:n,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,y=dd(n),E=y&&y[0],C=y&&y[1],{onBeforeEnter:I,onEnter:N,onEnterCancelled:L,onLeave:O,onLeaveCancelled:D,onBeforeAppear:ae=I,onAppear:ve=N,onAppearCancelled:ke=L}=e,F=(A,te,_e,et)=>{A._enterCancelled=et,Pt(A,te?c:a),Pt(A,te?u:o),_e&&_e()},z=(A,te)=>{A._isLeaving=!1,Pt(A,h),Pt(A,g),Pt(A,p),te&&te()},se=A=>(te,_e)=>{const et=A?ve:N,le=()=>F(te,A,_e);At(et,[te,le]),Vi(()=>{Pt(te,A?l:i),st(te,A?c:a),Hi(et)||qi(te,r,E,le)})};return ge(e,{onBeforeEnter(A){At(I,[A]),st(A,i),st(A,o)},onBeforeAppear(A){At(ae,[A]),st(A,l),st(A,u)},onEnter:se(!1),onAppear:se(!0),onLeave(A,te){A._isLeaving=!0;const _e=()=>z(A,te);st(A,h),A._enterCancelled?(st(A,p),Gi()):(Gi(),st(A,p)),Vi(()=>{A._isLeaving&&(Pt(A,h),st(A,g),Hi(O)||qi(A,r,C,_e))}),At(O,[A,_e])},onEnterCancelled(A){F(A,!1,void 0,!0),At(L,[A])},onAppearCancelled(A){F(A,!0,void 0,!0),At(ke,[A])},onLeaveCancelled(A){z(A),At(D,[A])}})}function dd(t){if(t==null)return null;if(Y(t))return[Qr(t.enter),Qr(t.leave)];{const e=Qr(t);return[e,e]}}function Qr(t){return pu(t)}function st(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Ws]||(t[Ws]=new Set)).add(e)}function Pt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[Ws];s&&(s.delete(e),s.size||(t[Ws]=void 0))}function Vi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fd=0;function qi(t,e,s,r){const n=t._endId=++fd,i=()=>{n===t._endId&&r()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=pd(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,p)}function pd(t,e){const s=window.getComputedStyle(t),r=y=>(s[y]||"").split(", "),n=r(`${ut}Delay`),i=r(`${ut}Duration`),o=Wi(n,i),a=r(`${Ss}Delay`),l=r(`${Ss}Duration`),u=Wi(a,l);let c=null,h=0,p=0;e===ut?o>0&&(c=ut,h=o,p=i.length):e===Ss?u>0&&(c=Ss,h=u,p=l.length):(h=Math.max(o,u),c=h>0?o>u?ut:Ss:null,p=c?c===ut?i.length:l.length:0);const g=c===ut&&/\b(transform|all)(,|$)/.test(r(`${ut}Property`).toString());return{type:c,timeout:h,propCount:p,hasTransform:g}}function Wi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,r)=>Ki(s)+Ki(t[r])))}function Ki(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Gi(){return document.body.offsetHeight}function gd(t,e,s){const r=t[Ws];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const zi=Symbol("_vod"),_d=Symbol("_vsh"),md=Symbol(""),vd=/(^|;)\s*display\s*:/;function yd(t,e,s){const r=t.style,n=ie(s);let i=!1;if(s&&!n){if(e)if(ie(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&hr(r,a,"")}else for(const o in e)s[o]==null&&hr(r,o,"");for(const o in s)o==="display"&&(i=!0),hr(r,o,s[o])}else if(n){if(e!==s){const o=r[md];o&&(s+=";"+o),r.cssText=s,i=vd.test(s)}}else e&&t.removeAttribute("style");zi in t&&(t[zi]=i?r.display:"",t[_d]&&(r.display="none"))}const Ji=/\s*!important$/;function hr(t,e,s){if(P(s))s.forEach(r=>hr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=bd(t,e);Ji.test(s)?t.setProperty(wt(r),s.replace(Ji,""),"important"):t[r]=s}}const Yi=["Webkit","Moz","ms"],Xr={};function bd(t,e){const s=Xr[e];if(s)return s;let r=Me(e);if(r!=="filter"&&r in t)return Xr[e]=r;r=xr(r);for(let n=0;n<Yi.length;n++){const i=Yi[n]+r;if(i in t)return Xr[e]=i}return e}const Qi="http://www.w3.org/1999/xlink";function Xi(t,e,s,r,n,i=bu(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Qi,e.slice(6,e.length)):t.setAttributeNS(Qi,e,s):s==null||i&&!Io(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Be(s)?String(s):s)}function Zi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?qa(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Io(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function at(t,e,s,r){t.addEventListener(e,s,r)}function wd(t,e,s,r){t.removeEventListener(e,s,r)}const eo=Symbol("_vei");function Sd(t,e,s,r,n=null){const i=t[eo]||(t[eo]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=kd(e);if(r){const u=i[e]=xd(r,n);at(t,a,u,l)}else o&&(wd(t,a,o,l),i[e]=void 0)}}const to=/(?:Once|Passive|Capture)$/;function kd(t){let e;if(to.test(t)){e={};let r;for(;r=t.match(to);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wt(t.slice(2)),e]}let Zr=0;const Td=Promise.resolve(),Ed=()=>Zr||(Td.then(()=>Zr=0),Zr=Date.now());function xd(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;He(Od(r,s.value),e,5,[r])};return s.value=t,s.attached=Ed(),s}function Od(t,e){if(P(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const so=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Cd=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?gd(t,r,o):e==="style"?yd(t,s,r):Tr(e)?jn(e)||Sd(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ad(t,e,r,o))?(Zi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ie(r))?Zi(t,Me(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Xi(t,e,r,o))};function Ad(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&so(e)&&M(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return so(e)&&ie(s)?!1:e in t}const bt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return P(e)?s=>lr(e,s):e};function Pd(t){t.target.composing=!0}function ro(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const De=Symbol("_assign"),wr={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[De]=bt(n);const i=r||n.props&&n.props.type==="number";at(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=fr(a)),t[De](a)}),s&&at(t,"change",()=>{t.value=t.value.trim()}),e||(at(t,"compositionstart",Pd),at(t,"compositionend",ro),at(t,"change",ro))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[De]=bt(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?fr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},jd={deep:!0,created(t,e,s){t[De]=bt(s),at(t,"change",()=>{const r=t._modelValue,n=hs(t),i=t.checked,o=t[De];if(P(r)){const a=Ln(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(fs(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Ga(t,i))})},mounted:no,beforeUpdate(t,e,s){t[De]=bt(s),no(t,e,s)}};function no(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(P(e))n=Ln(e,r.props.value)>-1;else if(fs(e))n=e.has(r.props.value);else{if(e===s)return;n=Nt(e,Ga(t,!0))}t.checked!==n&&(t.checked=n)}const $d={created(t,{value:e},s){t.checked=Nt(e,s.props.value),t[De]=bt(s),at(t,"change",()=>{t[De](hs(t))})},beforeUpdate(t,{value:e,oldValue:s},r){t[De]=bt(r),e!==s&&(t.checked=Nt(e,r.props.value))}},wn={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=fs(e);at(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?fr(hs(o)):hs(o));t[De](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,ta(()=>{t._assigning=!1})}),t[De]=bt(r)},mounted(t,{value:e}){io(t,e)},beforeUpdate(t,e,s){t[De]=bt(s)},updated(t,{value:e}){t._assigning||io(t,e)}};function io(t,e){const s=t.multiple,r=P(e);if(!(s&&!r&&!fs(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=hs(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Ln(e,a)>-1}else o.selected=e.has(a);else if(Nt(hs(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function hs(t){return"_value"in t?t._value:t.value}function Ga(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Id={created(t,e,s){ar(t,e,s,null,"created")},mounted(t,e,s){ar(t,e,s,null,"mounted")},beforeUpdate(t,e,s,r){ar(t,e,s,r,"beforeUpdate")},updated(t,e,s,r){ar(t,e,s,r,"updated")}};function Rd(t,e){switch(t){case"SELECT":return wn;case"TEXTAREA":return wr;default:switch(e){case"checkbox":return jd;case"radio":return $d;default:return wr}}}function ar(t,e,s,r,n){const o=Rd(t.tagName,s.props&&s.props.type)[n];o&&o(t,e,s,r)}const Ld={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Dd=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=wt(n.key);if(e.some(o=>o===i||Ld[o]===i))return t(n)})},Md=ge({patchProp:Cd},ld);let oo;function Ud(){return oo||(oo=Ph(Md))}const Nd=(...t)=>{const e=Ud().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Bd(r);if(!n)return;const i=e._component;!M(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Fd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Fd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Bd(t){return ie(t)?document.querySelector(t):t}const za=()=>{let t=new Date;t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),s=Math.ceil(((t-e)/864e5+1)/7);return s},Ze=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Hd={data(){return{currentWeek:za()}},computed:{selectWeek(){return this.$store.getters.selectWeek}},methods:{setSelectWeek(t){this.$store.commit("setSelectWeek",t)}}},Vd={class:"input-group w-100 mt-2"},qd=["onClick"];function Wd(t,e,s,r,n,i){return q(),ne("div",Vd,[(q(),ne(he,null,$s(52,o=>V("div",{key:o,class:vt(["btn btn-sm btn-light flex-fill",{active:o==i.selectWeek,"fw-bold":o==n.currentWeek}]),onClick:a=>i.setSelectWeek(o)},Ie(o<10?"0"+o:o),11,qd)),64))])}const Kd=Ze(Hd,[["render",Wd]]),Gd=[{id:1,title:""},{id:2,title:""},{id:3,title:""},{id:4,title:""},{id:5,title:""},{id:6,title:""},{id:7,title:""}],zd=()=>{const e=new Date().getFullYear();return String(e).slice(2)},Jd=["","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","00"],Yd=["","05","10","15","20","25","30","35","40","45","50","55","00"],Qd=()=>new Date().getFullYear()+"-"+(new Date().getMonth()+1>9?new Date().getMonth()+1:"0"+(new Date().getMonth()+1))+"-"+(new Date().getDate()>9?new Date().getDate():"0"+new Date().getDate())+"T"+(new Date().getHours()>9?new Date().getHours():"0"+new Date().getHours())+":"+(new Date().getMinutes()>9?new Date().getMinutes():"0"+new Date().getMinutes());class Ja{constructor(){fe(this,"id","");fe(this,"type","");fe(this,"title","");fe(this,"description","");fe(this,"position",1);fe(this,"status","active");this.dateCreate=Qd()}}class Xd extends Ja{constructor(){super(...arguments);fe(this,"type","task");fe(this,"week",0);fe(this,"day",1);fe(this,"timeH","");fe(this,"timeM","")}}const Zd=()=>Object.assign({},new Xd),ef={props:["task"],computed:{taskDone(){return this.task.status==="done"}},methods:{toggleStatus(){this.task.status=this.task.status==="active"?"done":"active",this.$store.dispatch("updateTaskStatus",{year:2025,id:this.task.id,value:this.task.status})}}},tf=["checked"],sf={key:0,class:"small ps-1 pe-1 bg-body-secondary rounded text-body-secondary ms-2"},rf={class:"ms-2"};function nf(t,e,s,r,n,i){return q(),ne("div",{class:vt(["border rounded mt-2 p-2",{"bg-success-subtle border-success-subtle":i.taskDone}])},[V("input",{class:vt(["form-check-input",{"is-valid":i.taskDone}]),checked:i.taskDone,type:"checkbox",value:"","aria-label":"Checkbox for following text input",onChange:e[0]||(e[0]=(...o)=>i.toggleStatus&&i.toggleStatus(...o))},null,42,tf),s.task.timeH&&s.task.timeM?(q(),ne("span",sf,Ie(s.task.timeH)+":"+Ie(s.task.timeM),1)):Es("",!0),V("span",rf,Ie(s.task.title),1)],2)}const of=Ze(ef,[["render",nf]]),af={components:{TheTask:of},emits:["add-task"],props:["day","tasks"],data(){return{title:"",timeH:"",timeM:"",dataHours:Jd,dataMinutes:Yd}},computed:{selectWeek(){return this.$store.getters.selectWeek}},methods:{getId(){return zd()+String(this.selectWeek).padStart(2,"0")+String(this.day.id).padStart(2,"0")+String(this.tasks.length+1).padStart(2,"0")},createTask(){if(this.title){const t=Zd();t.id=this.getId(),t.title=this.title,t.week=this.selectWeek,t.day=this.day.id,this.timeH&&this.timeM&&(t.timeH=this.timeH,t.timeM=this.timeM),this.title="",this.timeH="",this.timeM="",this.$emit("add-task",{task:t}),this.$store.dispatch("addTask",{year:2025,task:t})}}}},lf={class:"col w-col wpl-vh-100 p-2"},cf={class:"text-center mb-3"},uf={class:"form-create mt-2"},hf={class:"d-flex mt-1"},df={class:"input-group input-group-sm w-75"},ff=["value"],pf=["value"];function gf(t,e,s,r,n,i){const o=Ut("TheTask");return q(),ne("div",lf,[V("h6",cf,Ie(s.day.title),1),(q(!0),ne(he,null,$s(s.tasks,a=>(q(),lt(o,{key:a.id,task:a},null,8,["task"]))),128)),oe(Ka,null,{default:Fs(()=>[V("div",uf,[js(V("input",{type:"text",class:"form-control form-control-sm mt-1","aria-label":"Text input with checkbox","onUpdate:modelValue":e[0]||(e[0]=a=>n.title=a),onKeyup:e[1]||(e[1]=Dd((...a)=>i.createTask&&i.createTask(...a),["enter"]))},null,544),[[wr,n.title,void 0,{trim:!0}]]),V("div",hf,[V("div",df,[js(V("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>n.timeH=a)},[(q(!0),ne(he,null,$s(n.dataHours,a=>(q(),ne("option",{key:a,value:a},Ie(a),9,ff))),128))],512),[[wn,n.timeH]]),e[5]||(e[5]=V("span",{class:"ps-1 pe-1"},":",-1)),js(V("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>n.timeM=a)},[(q(!0),ne(he,null,$s(n.dataMinutes,a=>(q(),ne("option",{key:a,value:a},Ie(a),9,pf))),128))],512),[[wn,n.timeM]])]),V("button",{class:"btn btn-sm btn-light w-25 ms-1",onClick:e[4]||(e[4]=(...a)=>i.createTask&&i.createTask(...a))}," Add ")])])]),_:1})])}const _f=Ze(af,[["render",gf],["__scopeId","data-v-f1fe244a"]]),mf={components:{TheDay:_f},data(){return{dataDays:Gd,tasks:[]}},computed:{selectWeek(){return this.$store.getters.selectWeek}},async mounted(){this.tasks=await this.$store.dispatch("getTasksByWeek",{year:2025,week:this.selectWeek})},methods:{getTasksFiltersByDay(t){return this.tasks.filter(e=>e.day===t)},addTask({task:t}){this.tasks.push(t)}},watch:{async selectWeek(t){this.tasks=await this.$store.dispatch("getTasksByWeek",{year:2025,week:t})}}},vf={class:"row mt-3"};function yf(t,e,s,r,n,i){const o=Ut("TheDay");return q(),ne("div",vf,[(q(!0),ne(he,null,$s(n.dataDays,a=>(q(),lt(o,{key:a.id,day:a,tasks:i.getTasksFiltersByDay(a.id),onAddTask:i.addTask},null,8,["day","tasks","onAddTask"]))),128))])}const bf=Ze(mf,[["render",yf]]),wf={components:{TheBtnWeeks:Kd,TheWeek:bf}};function Sf(t,e,s,r,n,i){const o=Ut("TheBtnWeeks"),a=Ut("TheWeek");return q(),ne("div",null,[oe(o),oe(a)])}const kf=Ze(wf,[["render",Sf]]);class Tf extends Ja{constructor(){super(...arguments);fe(this,"proStatus",!1);fe(this,"proFree",!1);fe(this,"balance",0);fe(this,"dateStartPro","");fe(this,"dateEndPro","")}}const Ef=()=>Object.assign({},new Tf),xf={},Of={class:"btn btn-sm btn-dark text-body-secondary d-flex align-items-center shadow-none"};function Cf(t,e){return q(),ne("button",Of,e[0]||(e[0]=[V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16"},[V("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"}),V("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"}),V("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"})],-1)]))}const Af=Ze(xf,[["render",Cf]]),Pf={},jf={class:"btn btn-sm btn-dark text-body-secondary d-flex align-items-center shadow-none"};function $f(t,e){return q(),ne("button",jf,e[0]||(e[0]=[V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},[V("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),V("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1)]))}const If=Ze(Pf,[["render",$f]]),Rf={},Lf={class:"btn btn-light"};function Df(t,e){return q(),ne("button",Lf,[ph(t.$slots,"default",{},()=>[e[0]||(e[0]=yr(""))])])}const Mf=Ze(Rf,[["render",Df]]),Uf={name:"LoginForm",components:{BtnEyeHide:Af,BtnEyeShow:If,BtnLogin:Mf},data(){return{dataLogin:{login:{header:"",button:""},create:{header:"",button:""},restore:{header:" ",button:" "}},mod:"login",email:"",password:"",passType:!0,error:null,showMessage:!1,regexpEmail:"^\\S+@\\S+\\.\\S+$",regexpPassword:"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}$"}},computed:{userId(){return this.$store.getters.userId}},methods:{showMeesageForUser({message:t}){this.error=t,this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},4800)},auth(){switch(this.mod){case"login":this.logIn();break;case"create":this.createAccaunt();break;case"restore":this.restorePassword();break}},logIn(){if(this.email&&this.password){const t={email:this.email,password:this.password};this.$store.dispatch("logIn",t)}else this.email?this.password||this.showMeesageForUser({message:{type:"password",text:" "}}):this.showMeesageForUser({message:{type:"email",text:" Email"}})},async createAccaunt(){if(this.email&&this.password)if(this.password.length>=8&&this.password.match(this.regexpPassword)){this.error=null,this.showMessage=!1;const t={email:this.email,password:this.password},e=Ef();await this.$store.dispatch("registerUser",{loginData:t,userMetaData:e})===200?this.$store.commit("addMessage",{text:"    Email",bg:"alert-primary"}):this.$store.commit("addMessage",{text:"   ",bg:"alert-danger"})}else this.showMeesageForUser({message:{type:"password",text:"    "}});else this.email?this.password||this.showMeesageForUser({message:{type:"password",text:" "}}):this.showMeesageForUser({message:{type:"email",text:" Email"}})},async restorePassword(){this.email?(await this.$store.dispatch("restoreUserPassword",{email:this.email}),this.$store.commit("addMessage",{text:"       Email",bg:"alert-primary"}),this.email=""):this.showMeesageForUser({message:{type:"email",text:" Email"}})}}},Nf={class:"login-form col-md-4 border rounded m-auto p-3"},Ff={class:"text-center mt-2"},Bf={class:"mt-3"},Hf={key:0,id:"emailHelp",class:"form-text text-danger lh-1"},Vf={key:0,class:"mt-3"},qf={class:"input-group"},Wf=["type"],Kf={key:0,id:"passwordHelp",class:"form-text text-danger lh-1"},Gf={key:1,id:"passwordHelp",class:"form-text lh-1"},zf={class:"d-flex justify-content-between mt-3"};function Jf(t,e,s,r,n,i){const o=Ut("BtnEyeHide"),a=Ut("BtnEyeShow"),l=Ut("BtnLogin");return q(),ne("div",Nf,[V("h4",Ff,Ie(n.dataLogin[n.mod].header),1),V("div",Bf,[e[5]||(e[5]=V("label",{class:"form-label",for:"email"},"Email",-1)),js(V("input",{type:"text",class:vt(["form-control",{"is-valid":n.email.match(n.regexpEmail)}]),id:"email",required:"","onUpdate:modelValue":e[0]||(e[0]=u=>n.email=u),placeholder:"username@email.com","aria-describedby":"emailHelp",minlength:"5",maxlength:"64"},null,2),[[wr,n.email,void 0,{trim:!0}]]),n.showMessage&&n.error&&n.error.type==="email"?(q(),ne("div",Hf,Ie(n.error.text),1)):Es("",!0)]),n.mod==="login"||n.mod==="create"?(q(),ne("div",Vf,[e[7]||(e[7]=V("label",{class:"form-label",for:"password"},"",-1)),V("div",qf,[js(V("input",{type:n.passType?"password":"text",class:vt(["form-control",{"is-valid":n.password.match(n.regexpPassword)}]),id:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=u=>n.password=u),ref:"pass","aria-describedby":"passwordHelp",minlength:"8",maxlength:"32"},null,10,Wf),[[Id,n.password,void 0,{trim:!0}]]),n.passType?(q(),lt(o,{key:0,class:"border",onClick:e[2]||(e[2]=u=>n.passType=!n.passType)})):(q(),lt(a,{key:1,class:"border",onClick:e[3]||(e[3]=u=>n.passType=!n.passType)}))]),n.showMessage&&n.error&&n.error.type==="password"?(q(),ne("div",Kf,Ie(n.error.text),1)):n.mod==="create"?(q(),ne("div",Gf,e[6]||(e[6]=[V("span",null," : 8 , 1 , 1 , 1   . : f2Rs14vZw ",-1),V("div",{class:"border rounded-1 text-primary-emphasis mt-2 p-2"},[yr("    ,   "),V("a",{href:"https://doc.mwpapp.ru/eula/",target:"_blank",title:" "}," ")],-1)]))):Es("",!0)])):Es("",!0),oe(l,{class:"w-100 mt-3",title:n.dataLogin[n.mod].button,onClick:i.auth},{default:Fs(()=>[yr(Ie(n.dataLogin[n.mod].button),1)]),_:1},8,["title","onClick"]),V("div",zf,[n.mod==="create"||n.mod==="restore"?(q(),lt(l,{key:0,class:"btn btn-sm btn-light w-50",onClick:e[4]||(e[4]=u=>n.mod="login")},{default:Fs(()=>[V("small",null,Ie(n.dataLogin.login.button),1)]),_:1})):Es("",!0)])])}const Yf=Ze(Uf,[["render",Jf]]),Qf={name:"App",components:{PlanerMain:kf,LoginForm:Yf},computed:{myComponent(){return this.isLoggedIn?"PlanerMain":"LoginForm"},isLoggedIn(){return this.$store.getters.isLoggedIn}}},Xf={class:"container-fluid"};function Zf(t,e,s,r,n,i){return q(),ne("div",Xf,[oe(Ka,{name:"fade",mode:"out-in"},{default:Fs(()=>[(q(),lt(fh(i.myComponent)))]),_:1})])}const ep=Ze(Qf,[["render",Zf]]);function tp(){return Ya().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Ya(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const sp=typeof Proxy=="function",rp="devtools-plugin:setup",np="plugin:settings:set";let Xt,Sn;function ip(){var t;return Xt!==void 0||(typeof window<"u"&&window.performance?(Xt=!0,Sn=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Xt=!0,Sn=globalThis.perf_hooks.performance):Xt=!1),Xt}function op(){return ip()?Sn.now():Date.now()}class ap{constructor(e,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=s;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const n=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(n),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(n,JSON.stringify(o))}catch{}i=o},now(){return op()}},s&&s.on(np,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function lp(t,e){const s=t,r=Ya(),n=tp(),i=sp&&s.enableEarlyProxy;if(n&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))n.emit(rp,t,e);else{const o=i?new ap(s,n):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var cp="store";function ps(t,e){Object.keys(t).forEach(function(s){return e(t[s],s)})}function up(t){return t!==null&&typeof t=="object"}function hp(t){return t&&typeof t.then=="function"}function dp(t,e){return function(){return t(e)}}function Qa(t,e,s){return e.indexOf(t)<0&&(s&&s.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Xa(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var s=t.state;Dr(t,s,[],t._modules.root,!0),Wn(t,s,e)}function Wn(t,e,s){var r=t._state,n=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=Su(!0);l.run(function(){ps(i,function(u,c){o[c]=dp(u,t),a[c]=Va(function(){return o[c]()}),Object.defineProperty(t.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),t._state=Ar({data:e}),t._scope=l,t.strict&&mp(t),r&&s&&t._withCommit(function(){r.data=null}),n&&n.stop()}function Dr(t,e,s,r,n){var i=!s.length,o=t._modules.getNamespace(s);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!n){var a=Kn(e,s.slice(0,-1)),l=s[s.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=fp(t,o,s);r.forEachMutation(function(c,h){var p=o+h;pp(t,p,c,u)}),r.forEachAction(function(c,h){var p=c.root?h:o+h,g=c.handler||c;gp(t,p,g,u)}),r.forEachGetter(function(c,h){var p=o+h;_p(t,p,c,u)}),r.forEachChild(function(c,h){Dr(t,e,s.concat(h),c,n)})}function fp(t,e,s){var r=e==="",n={dispatch:r?t.dispatch:function(i,o,a){var l=Sr(i,o,a),u=l.payload,c=l.options,h=l.type;return(!c||!c.root)&&(h=e+h),t.dispatch(h,u)},commit:r?t.commit:function(i,o,a){var l=Sr(i,o,a),u=l.payload,c=l.options,h=l.type;(!c||!c.root)&&(h=e+h),t.commit(h,u,c)}};return Object.defineProperties(n,{getters:{get:r?function(){return t.getters}:function(){return Za(t,e)}},state:{get:function(){return Kn(t.state,s)}}}),n}function Za(t,e){if(!t._makeLocalGettersCache[e]){var s={},r=e.length;Object.keys(t.getters).forEach(function(n){if(n.slice(0,r)===e){var i=n.slice(r);Object.defineProperty(s,i,{get:function(){return t.getters[n]},enumerable:!0})}}),t._makeLocalGettersCache[e]=s}return t._makeLocalGettersCache[e]}function pp(t,e,s,r){var n=t._mutations[e]||(t._mutations[e]=[]);n.push(function(o){s.call(t,r.state,o)})}function gp(t,e,s,r){var n=t._actions[e]||(t._actions[e]=[]);n.push(function(o){var a=s.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return hp(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function _p(t,e,s,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return s(r.state,r.getters,i.state,i.getters)})}function mp(t){Rs(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Kn(t,e){return e.reduce(function(s,r){return s[r]},t)}function Sr(t,e,s){return up(t)&&t.type&&(s=e,e=t,t=t.type),{type:t,payload:e,options:s}}var vp="vuex bindings",ao="vuex:mutations",en="vuex:actions",Zt="vuex",yp=0;function bp(t,e){lp({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[vp]},function(s){s.addTimelineLayer({id:ao,label:"Vuex Mutations",color:lo}),s.addTimelineLayer({id:en,label:"Vuex Actions",color:lo}),s.addInspector({id:Zt,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),s.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Zt)if(r.filter){var n=[];rl(n,e._modules.root,r.filter,""),r.rootNodes=n}else r.rootNodes=[sl(e._modules.root,"")]}),s.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Zt){var n=r.nodeId;Za(e,n),r.state=kp(Ep(e._modules,n),n==="root"?e.getters:e._makeLocalGettersCache,n)}}),s.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Zt){var n=r.nodeId,i=r.path;n!=="root"&&(i=n.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,n){var i={};r.payload&&(i.payload=r.payload),i.state=n,s.notifyComponentUpdate(),s.sendInspectorTree(Zt),s.sendInspectorState(Zt),s.addTimelineEvent({layerId:ao,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,n){var i={};r.payload&&(i.payload=r.payload),r._id=yp++,r._time=Date.now(),i.state=n,s.addTimelineEvent({layerId:en,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,n){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=n,s.addTimelineEvent({layerId:en,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var lo=8702998,wp=6710886,Sp=16777215,el={label:"namespaced",textColor:Sp,backgroundColor:wp};function tl(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function sl(t,e){return{id:e||"root",label:tl(e),tags:t.namespaced?[el]:[],children:Object.keys(t._children).map(function(s){return sl(t._children[s],e+s+"/")})}}function rl(t,e,s,r){r.includes(s)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[el]:[]}),Object.keys(e._children).forEach(function(n){rl(t,e._children[n],s,r+n+"/")})}function kp(t,e,s){e=s==="root"?e:e[s];var r=Object.keys(e),n={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=Tp(e);n.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?tl(o):o,editable:!1,value:kn(function(){return i[o]})}})}return n}function Tp(t){var e={};return Object.keys(t).forEach(function(s){var r=s.split("/");if(r.length>1){var n=e,i=r.pop();r.forEach(function(o){n[o]||(n[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),n=n[o]._custom.value}),n[i]=kn(function(){return t[s]})}else e[s]=kn(function(){return t[s]})}),e}function Ep(t,e){var s=e.split("/").filter(function(r){return r});return s.reduce(function(r,n,i){var o=r[n];if(!o)throw new Error('Missing module "'+n+'" for path "'+e+'".');return i===s.length-1?o:o._children},e==="root"?t:t.root._children)}function kn(t){try{return t()}catch(e){return e}}var Ve=function(e,s){this.runtime=s,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},nl={namespaced:{configurable:!0}};nl.namespaced.get=function(){return!!this._rawModule.namespaced};Ve.prototype.addChild=function(e,s){this._children[e]=s};Ve.prototype.removeChild=function(e){delete this._children[e]};Ve.prototype.getChild=function(e){return this._children[e]};Ve.prototype.hasChild=function(e){return e in this._children};Ve.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Ve.prototype.forEachChild=function(e){ps(this._children,e)};Ve.prototype.forEachGetter=function(e){this._rawModule.getters&&ps(this._rawModule.getters,e)};Ve.prototype.forEachAction=function(e){this._rawModule.actions&&ps(this._rawModule.actions,e)};Ve.prototype.forEachMutation=function(e){this._rawModule.mutations&&ps(this._rawModule.mutations,e)};Object.defineProperties(Ve.prototype,nl);var Ht=function(e){this.register([],e,!1)};Ht.prototype.get=function(e){return e.reduce(function(s,r){return s.getChild(r)},this.root)};Ht.prototype.getNamespace=function(e){var s=this.root;return e.reduce(function(r,n){return s=s.getChild(n),r+(s.namespaced?n+"/":"")},"")};Ht.prototype.update=function(e){il([],this.root,e)};Ht.prototype.register=function(e,s,r){var n=this;r===void 0&&(r=!0);var i=new Ve(s,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}s.modules&&ps(s.modules,function(a,l){n.register(e.concat(l),a,r)})};Ht.prototype.unregister=function(e){var s=this.get(e.slice(0,-1)),r=e[e.length-1],n=s.getChild(r);n&&n.runtime&&s.removeChild(r)};Ht.prototype.isRegistered=function(e){var s=this.get(e.slice(0,-1)),r=e[e.length-1];return s?s.hasChild(r):!1};function il(t,e,s){if(e.update(s),s.modules)for(var r in s.modules){if(!e.getChild(r))return;il(t.concat(r),e.getChild(r),s.modules[r])}}function xp(t){return new Oe(t)}var Oe=function(e){var s=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var n=e.strict;n===void 0&&(n=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ht(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,y){return u.call(o,p,g,y)},this.strict=n;var c=this._modules.root.state;Dr(this,c,[],this._modules.root),Wn(this,c),r.forEach(function(h){return h(s)})},Gn={state:{configurable:!0}};Oe.prototype.install=function(e,s){e.provide(s||cp,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&bp(e,this)};Gn.state.get=function(){return this._state.data};Gn.state.set=function(t){};Oe.prototype.commit=function(e,s,r){var n=this,i=Sr(e,s,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(c){return c(l,n.state)}))};Oe.prototype.dispatch=function(e,s){var r=this,n=Sr(e,s),i=n.type,o=n.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(o)})):l[0](o);return new Promise(function(c,h){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}c(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}h(p)})})}};Oe.prototype.subscribe=function(e,s){return Qa(e,this._subscribers,s)};Oe.prototype.subscribeAction=function(e,s){var r=typeof e=="function"?{before:e}:e;return Qa(r,this._actionSubscribers,s)};Oe.prototype.watch=function(e,s,r){var n=this;return Rs(function(){return e(n.state,n.getters)},s,Object.assign({},r))};Oe.prototype.replaceState=function(e){var s=this;this._withCommit(function(){s._state.data=e})};Oe.prototype.registerModule=function(e,s,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,s),Dr(this,this.state,e,this._modules.get(e),r.preserveState),Wn(this,this.state)};Oe.prototype.unregisterModule=function(e){var s=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Kn(s.state,e.slice(0,-1));delete r[e[e.length-1]]}),Xa(this)};Oe.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Oe.prototype.hotUpdate=function(e){this._modules.update(e),Xa(this,!0)};Oe.prototype._withCommit=function(e){var s=this._committing;this._committing=!0,e(),this._committing=s};Object.defineProperties(Oe.prototype,Gn);const Op={state:{loading:!1,userId:null},mutations:{setAuthData(t,{type:e,data:s}){t[e]=s},setLoading(t,e){t.loading=e}},actions:{async logIn({commit:t},{email:e,password:s}){try{t("setLoading",!0);const{data:r,error:n}=await Lt.auth.signInWithPassword({email:e,password:s});if(n)throw n}catch(r){console.error("auth.js logIn()",r)}finally{t("setLoading",!1)}},async logOut({commit:t}){try{t("setLoading",!0);const{error:e}=await Lt.auth.signOut();if(e)throw e}catch(e){console.error("auth.js logOut()",e)}finally{t("setLoading",!1)}}},getters:{isLoggedIn:t=>t.userId!==null,userId:t=>t.userId}},Cp={state:{loadingData:!1,tasks:[]},mutations:{setTasks(t,e){t.tasks=e},setLoadingData(t,e){t.loadingData=e}},actions:{async getTasksByWeek({commit:t},{year:e,week:s}){try{t("setLoadingData",!0);const{data:r,error:n}=await Lt.from(e).select().eq("week",s);if(n)throw n;if(r)return r}catch(r){console.error("tasks.js getTasksByWeek()",r)}finally{t("setLoadingData",!1)}},async getAllTasks({commit:t},{year:e}){try{t("setLoadingData",!0);const{data:s,error:r}=await Lt.from(e).select();if(r)throw r;s&&s&&t("setTasks",s)}catch(s){console.error("tasks.js getAllTasks()",s)}finally{t("setLoadingData",!1)}},async updateTaskStatus({commit:t},{year:e,id:s,value:r}){try{t("setLoadingData",!0);const{error:n}=await Lt.from(e).update({status:r}).eq("id",s)}catch(n){console.error("tasks.js updateTaskStatus()",n)}finally{t("setLoadingData",!1)}},async addTask({commit:t},{year:e,task:s}){try{t("setLoadingData",!0);const{error:r}=await Lt.from(e).insert(s)}catch(r){console.error("tasks.js addTask()",r)}finally{t("setLoadingData",!1)}}},getters:{loadingData:t=>t.loadingData,tasks:t=>t.tasks}},Ap={state:{selectWeek:localStorage.getItem("wpl-selectWeek")||za()},mutations:{setSelectWeek(t,e){t.selectWeek=e,localStorage.setItem("wpl-selectWeek",e)}},getters:{selectWeek:t=>t.selectWeek}},Tn=xp({modules:{auth:Op,tasks:Cp,selectWeek:Ap}});let co;co||(co=Nd(ep).use(Tn).mount("#app"));console.log("main.js: App is run");const{data:Mp}=Lt.auth.onAuthStateChange((t,e)=>{t==="INITIAL_SESSION"||(t==="SIGNED_IN"?Tn.commit("setAuthData",{type:"userId",data:e.user.id}):t==="SIGNED_OUT"&&Tn.commit("setAuthData",{type:"userId",data:null}))});export{vl as g};
